/*! For license information please see main.3292374e.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,r){e.exports=r.p+"static/media/404Error.5e10127c.png"},110:function(e,t,r){e.exports=r(178)},141:function(e,t,r){},144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},147:function(e,t,r){},171:function(e,t,r){},172:function(e,t,r){},173:function(e,t,r){},174:function(e,t,r){},175:function(e,t,r){},176:function(e,t,r){},177:function(e,t,r){},178:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(24),c=r.n(o),i=r(5),l=r(14),u=r(20),s=r(185),m=r(3),p=r(19),d=r(193),f=r(197),h=r(192),E=r(1),y=r(8),g=r(12),v=r.n(g);function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(x){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:S(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(j([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function S(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=w(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var O=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c,i,l,u;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_LOGIN_REFRESH_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json"}},t.next=6,v.a.post("/api/users/refresh",{email:e,token:o.refreshToken},c);case 6:i=t.sent,(l=i.data).success?(r({type:"USER_LOGIN_REFRESH_SUCCESS",payload:l}),u=Object(E.a)(Object(E.a)({},o),{},{accessToken:l.accessToken,refreshToken:o.refreshToken}),localStorage.setItem("userInfo",JSON.stringify(u)),r({type:"USER_LOGIN_SUCCESS",payload:u})):l.success||(localStorage.removeItem("userInfo"),localStorage.setItem("redirectLogin","true"),r({type:"USER_LOGOUT"})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_LOGIN_REFRESH_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DETAILS_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/users/".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"USER_DETAILS_SUCCESS",payload:Object(E.a)({},l)}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_PROFILE_UPDATE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/users/profile",e,c);case 6:i=t.sent,l=i.data,r({type:"USER_PROFILE_UPDATE_SUCCESS",payload:Object(E.a)({},l)}),r({type:"USER_LOGIN_SUCCESS",payload:Object(E.a)({},l)}),localStorage.setItem("userInfo",JSON.stringify(Object(E.a)({},l))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:"USER_PROFILE_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},R=r(194),_=r(184),L=function(e){var t=e.history,r=Object(n.useState)(""),o=Object(m.a)(r,2),c=o[0],i=o[1];return a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},className:"d-flex"},a.a.createElement(_.a,{className:"mt-2"},a.a.createElement(R.a.Control,{type:"text",style:{border:"1px solid #2c3e50",borderRight:"none"},name:"keyword",className:"mr-sm-2 ml-sm-4",onChange:function(e){return i(e.target.value)},placeholder:"Search Products...",value:c}),a.a.createElement(_.a.Text,{style:{background:"white",border:"1px solid #2c3e50",borderLeft:"none"}},a.a.createElement("button",{"aria-label":"search",style:{margin:"0",border:"0",outline:"0",background:"transparent",padding:"0"},type:"submit"},a.a.createElement("i",{style:{color:"#95a5a6"},className:"fas fa-search"})))))},j=(r(141),r(99)),I=r.n(j),x=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userLogin})),r=Object(i.c)((function(e){return e.cart})),o=t.userInfo,c=r.cartItems,l=Object(n.useState)(!1),E=Object(m.a)(l,2),y=E[0],g=E[1],v=Object(n.useState)(!1),b=Object(m.a)(v,2),O=b[0],S=b[1],w=Object(n.useState)(0),R=Object(m.a)(w,2),_=R[0],j=R[1];Object(n.useEffect)((function(){j(c.reduce((function(e,t){return e+t.qty}),0))}),[c]);var x=function(){e((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("redirectLogin"),localStorage.removeItem("cartItems"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"ORDER_CREATE_RESET"}),e({type:"ORDER_USER_LIST_RESET"})})),window.location.href="/"};return a.a.createElement("header",null,a.a.createElement("section",{className:"navbar-dropdown-cover",style:{display:window.innerHeight>430&&(y||O)?"block":"none",minWidth:"100%",height:"100%",zIndex:"100",position:"absolute"},onClick:function(){g(!1),S(!1)}}),a.a.createElement(d.a,{bg:"primary",variant:"dark",expand:"lg"},a.a.createElement(s.a,null,a.a.createElement(p.LinkContainer,{to:"/"},a.a.createElement(d.a.Brand,null,a.a.createElement("img",{src:I.a,className:"nav-logo",alt:"logo"}))),a.a.createElement(u.d,{render:function(e){var t=e.history;return a.a.createElement("div",{className:"d-none d-md-block"},a.a.createElement(L,{history:t}))}}),a.a.createElement(f.a,{className:"ms-auto nav-mobile",style:o?{justifyContent:"space-between"}:{justifyContent:"space-evenly"}},o&&o.isAdmin&&a.a.createElement(a.a.Fragment,null,a.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/userlist"},a.a.createElement(f.a.Link,null,a.a.createElement("i",{className:"fas fa-users"}))),a.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/orderlist"},a.a.createElement(f.a.Link,null,a.a.createElement("i",{className:"fas fa-user-shield"}))),a.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/productlist"},a.a.createElement(f.a.Link,null,a.a.createElement("i",{className:"fas fa-shopping-bag"})))),a.a.createElement(p.LinkContainer,{to:"/cart"},a.a.createElement(f.a.Link,null,_?a.a.createElement("div",{className:"nav-cart-size"},a.a.createElement("span",{style:_>10?{fontSize:"0.6em"}:{fontSize:"0.7em"}},_)):"",a.a.createElement("i",{className:"fas fa-shopping-cart navbar-icons"})," ",!o||!o.isAdmin||window.innerWidth>=430?"Cart":"")),o&&o.isAdmin&&a.a.createElement(h.a,{className:"d-none d-md-block",title:"Admin",id:"adminMenu",show:O,onClick:function(e){O?S(!1):(S(!0),g(!1))}},a.a.createElement(p.LinkContainer,{to:"/admin/userlist"},a.a.createElement(h.a.Item,null,"Users")),a.a.createElement(p.LinkContainer,{to:"/admin/productlist"},a.a.createElement(h.a.Item,null,"Products")),a.a.createElement(p.LinkContainer,{to:"/admin/orderlist"},a.a.createElement(h.a.Item,null,"Orders"))),o&&a.a.createElement(f.a.Link,{className:"d-block d-md-none",onClick:x},a.a.createElement("i",{className:"fas fa-sign-out-alt navbar-icons"})," ",!(o&&o.isAdmin)&&"Logout"),o?a.a.createElement("div",{className:"nav-avatar-container"},a.a.createElement(p.LinkContainer,{to:"/profile",className:"d-block d-md-none"},a.a.createElement(f.a.Link,null,a.a.createElement("img",{src:o.avatar,className:"nav-avatar",alt:o.name}))),a.a.createElement("img",{src:o.avatar,className:"nav-avatar d-none d-md-block",alt:o.name}),a.a.createElement(h.a,{className:"d-none d-md-block",title:o.name,id:o.id,show:y,onClick:function(e){y?g(!1):(g(!0),S(!1))}},a.a.createElement(p.LinkContainer,{to:"/profile"},a.a.createElement(h.a.Item,null,"Profile")),a.a.createElement(h.a.Item,{onClick:x},"Logout"))):a.a.createElement(p.LinkContainer,{to:"/login",variant:"primary"},a.a.createElement(f.a.Link,null,a.a.createElement("i",{className:"fas fa-user navbar-icons"})," Sign In"))))))},C=(r(144),function(){return a.a.createElement("footer",{className:"footer-container"},a.a.createElement("div",{class:"social_profile"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"#"},a.a.createElement("i",{class:"fab fa-facebook-f"}))),a.a.createElement("li",null,a.a.createElement("a",{href:"#"},a.a.createElement("i",{class:"fab fa-google-plus-g"}))),a.a.createElement("li",null,a.a.createElement("a",{href:"#"},a.a.createElement("i",{class:"fab fa-instagram"}))))),a.a.createElement("div",{className:"footer-copyright"},"\xa9 ",(new Date).getFullYear()," Facon"))}),T=r(15),N=function(e){var t=e.value,r=e.text,n=e.color;return a.a.createElement("div",{className:"rating"},[1,2,3,4,5].map((function(e,r){return a.a.createElement("span",{key:r},a.a.createElement("i",{style:{color:n,fontSize:"0.9em"},className:t>=e?"fas fa-star":t>=e-.5?"fas fa-star-half-alt":"far fa-star",title:"".concat(t," Stars")}))})),a.a.createElement("span",{style:{fontSize:"0.9em"}},r&&r))};N.defaultProps={color:"#f8e825"};var k=N,U=r(196),D=(r(145),function(e){var t=e.product;return a.a.createElement(U.a,{className:"mt-3 p-0"},a.a.createElement(l.Link,{to:"/product/".concat(t._id)},a.a.createElement(U.a.Img,{loading:"lazy",className:"product-image",src:t.image,variant:"top",alt:t.name,style:{width:"100% ",height:"200px",objectFit:"contain"}})),a.a.createElement(U.a.Body,null,a.a.createElement(l.Link,{to:"/product/".concat(t._id),style:{color:"dimgray",textDecoration:"none"}},a.a.createElement(U.a.Title,{className:"product-title",as:"p"},a.a.createElement("strong",null,t.name))),a.a.createElement(U.a.Text,{as:"div"},t&&t.rating&&a.a.createElement(k,{value:t.rating,text:"".concat(t.numReviews," Review").concat(t.numReviews>1?"s":"")})),a.a.createElement(U.a.Text,{as:"h4"},t.price&&t.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))}),A=r(198),P=function(e){var t=e.pages,r=e.page,n=e.isAdmin,o=void 0!==n&&n,c=e.keyword,i=void 0===c?"":c,l=e.forOrders,u=void 0!==l&&l,s=e.forUsers,m=void 0!==s&&s;return t>1&&a.a.createElement(A.a,null,Object(T.a)(Array(t).keys()).map((function(e){return a.a.createElement(p.LinkContainer,{key:e+1,to:o?u?"/admin/orderlist/".concat(e+1):m?"/admin/userlist/".concat(e+1):"/admin/productlist/".concat(e+1):i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1)},a.a.createElement(A.a.Item,{active:e+1===Number(r)},e+1))})))},F=r(188),G=r(98),z=r(195),Q=r(101),M=r(187),Y=r(186),q=function(e){var t=e.variant,r=e.duration,o=e.children,c=Object(n.useState)(!0),i=Object(m.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){u(!0)}),[]),Object(n.useEffect)((function(){r&&setTimeout((function(){return u(!1)}),1e3*r)}),[r]),a.a.createElement(Y.a,{onClose:function(){return u(!1)},className:"alert-custom",style:l?{display:"block"}:{display:"none"},variant:t},o)};q.defaultProps={variant:"info",dismissible:!1};var B=q;function V(){V=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(y.a)(V().mark((function n(a){var o,c;return V().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"PRODUCT_LIST_REQUEST"}),n.next=4,v.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(r));case 4:o=n.sent,c=o.data,a({type:"PRODUCT_LIST_SUCCESS",payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:"PRODUCT_LIST_FAILURE",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(y.a)(V().mark((function t(r){var n,a;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/products/".concat(e));case 4:n=t.sent,a=n.data,r({type:"PRODUCT_DETAILS_SUCCESS",payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"PRODUCT_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},W=(r(146),r(147),function(e){var t=e.type,r="skeleton ".concat(t);return a.a.createElement("div",{className:r})}),X=function(){return a.a.createElement("div",{className:"shimmer-wrapper"},a.a.createElement("div",{className:"shimmer"}))},K=function(){return a.a.createElement("div",{style:{position:"relative",overflow:"hidden"}},a.a.createElement(W,{type:"box"}),a.a.createElement(X,null))},Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.productTopRated})),r=t.error,o=t.loading,c=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(V().mark((function e(t){var r,n;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_RATED_REQUEST"}),e.next=4,v.a.get("/api/products/top");case 4:r=e.sent,n=r.data,t({type:"PRODUCT_TOP_RATED_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_RATED_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(K,null),r&&a.a.createElement(B,{variant:"danger"},r),a.a.createElement(z.a,{style:{marginTop:"0.5em"},pause:"hover",className:"bg-primary",indicators:!1,interval:1e4},c&&c.map((function(e){return a.a.createElement(Q.a,{key:e._id},a.a.createElement(l.Link,{to:"/product/".concat(e._id)},a.a.createElement(M.a,{src:e.image,alt:e.name,fluid:!0}),a.a.createElement(z.a.Caption,{className:"carousel-caption"},e.name," (",e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),")")))}))))},$=r(76),ee=function(e){var t=e.title,r=e.description,n=e.keywords;return a.a.createElement($.a,null,a.a.createElement("title",null,t),a.a.createElement("meta",{name:"description",content:r}),a.a.createElement("meta",{name:"keywords",content:n}))};ee.defaultProps={title:"Welcome to Facon",keywords:"Shoe, Clothing, Electronics, Accessories",description:"Buy the best products at the lowest prices"};var te=ee,re=function(){return a.a.createElement("div",{className:"skeleton-product-wrapper"},a.a.createElement(W,{type:"box"}),a.a.createElement(W,{type:"text"}),a.a.createElement(W,{type:"text"}),a.a.createElement(X,null))},ne=r(108),ae=[{value:"All",label:"All"},{value:"Electronics",label:"Electronics"},{value:"Shoes",label:"Shoes"}],oe=function(e){var t=e.match,r=e.history,o=t.params.keyword,c=Number(t.params.pageNumber)||1,u=Object(n.useState)(!1),s=Object(m.a)(u,2),p=s[0],d=s[1],f=Object(n.useState)(null),h=Object(m.a)(f,2),E=h[0],y=h[1],g=Object(n.useState)(!1),v=Object(m.a)(g,2),b=v[0],w=v[1],R=Object(i.b)(),_=Object(n.useState)(ae[0]),j=Object(m.a)(_,2),I=j[0],x=j[1],C=Object(n.useState)(null),N=Object(m.a)(C,2),k=N[0],U=N[1],A=Object(i.c)((function(e){return e.productList})),z=A.loading,Q=A.error,M=A.pages,Y=Object(i.c)((function(e){return e.userLogin})).userInfo,q=Object(i.c)((function(e){return e.userDetails})).error;return Object(n.useEffect)((function(){Y&&Y.isSocialLogin?R(S(Y.id)):R(S("profile"))}),[Y,R]),Object(n.useEffect)((function(){if(q&&Y&&!Y.isSocialLogin){var e=JSON.parse(localStorage.getItem("userInfo"));R(O(null===e||void 0===e?void 0:e.email))}}),[q,R,Y]),Object(n.useEffect)((function(){E&&(E.length?w(!0):w(!1))}),[E]),Object(n.useEffect)((function(){A&&A.products&&y(Object(T.a)(A.products))}),[A]),Object(n.useEffect)((function(){R(H(o,c))}),[R,o,c]),Object(n.useEffect)((function(){d("true"===localStorage.getItem("promptEmailVerfication"))}),[]),Object(n.useEffect)((function(){"By Price"===I.value&&U(E.sort((function(e,t){return e.price-t.price})))}),[I,E]),Object(n.useEffect)((function(){"All"===I.value?U(E):"Electronics"===I.value?U(E&&E.filter((function(e){return"Electronics"===e.category}))):"Shoes"===I.value&&U(E&&E.filter((function(e){return"Shoes"===e.category})))}),[I,E]),a.a.createElement(a.a.Fragment,null,a.a.createElement(te,null),o?a.a.createElement(l.Link,{className:"btn btn-outline btn-outline-primary my-2",to:"/"},"Go Back"):window.innerWidth>430&&a.a.createElement(Z,null),a.a.createElement("div",{className:"d-block d-md-none"},a.a.createElement(L,{history:r})),p?a.a.createElement(B,{variant:"info",duration:10},"Account Created! Please check your email to verify your account and start shopping."):null,Q?a.a.createElement(B,{variant:"danger",duration:10},Q):!z&&E?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"mt-2",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement("h2",null,"All Products"),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px",width:"50%"}},"Filter Products",a.a.createElement(ne.a,{defaultValue:I,onChange:x,options:ae,className:"w-75"}))),I!==ae[0].label?a.a.createElement(F.a,null,k&&k.map((function(e){return a.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e._id},a.a.createElement(D,{product:e}))}))):a.a.createElement(F.a,null,E.length?E.map((function(e){return a.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e._id},a.a.createElement(D,{product:e}))})):o&&!b&&a.a.createElement(G.a,{className:"text-center"},a.a.createElement("div",null,a.a.createElement("i",{className:"far fa-frown"})," No items found for this search query"),"Go Back to the ",a.a.createElement(l.Link,{to:"/"},"Home Page"))),a.a.createElement(P,{className:"mt-auto text-center",page:c,keyword:o||"",pages:M})):z&&E&&0===E.length&&a.a.createElement(F.a,null,[1,2,3,4].map((function(e){return a.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e},a.a.createElement("div",null,a.a.createElement(re,null)))}))))},ce=r(48),ie=r(100),le=r(199),ue=r(18),se=function(e){var t=e.src,r=e.alt,o=e.title,c=e.width,i=e.height,l=e.magnifierHeight,u=void 0===l?200:l,s=e.magnifieWidth,p=void 0===s?200:s,d=e.zoomLevel,f=void 0===d?1.5:d,h=Object(n.useState)([0,0]),E=Object(m.a)(h,2),y=Object(m.a)(E[0],2),g=y[0],v=y[1],b=E[1],O=Object(n.useState)([0,0]),S=Object(m.a)(O,2),w=Object(m.a)(S[0],2),R=w[0],_=w[1],L=S[1],j=Object(n.useState)(!1),I=Object(m.a)(j,2),x=I[0],C=I[1];return a.a.createElement("div",{style:{position:"relative",height:i,width:c}},a.a.createElement(M.a,{className:"product-image",src:t,style:{height:i,width:c,border:"1px solid lightgray"},fluid:!0,title:o,onMouseEnter:function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.width,n=t.height;L([r,n]),C(!0)},onMouseMove:function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.top,n=t.left,a=e.pageX-n-window.pageXOffset,o=e.pageY-r-window.pageYOffset;b([a,o])},onMouseLeave:function(){C(!1)},alt:r}),a.a.createElement("div",{style:{display:x?"":"none",position:"absolute",pointerEvents:"none",height:"".concat(u,"px"),width:"".concat(p,"px"),top:"".concat(v-u/2.5,"px"),left:"".concat(g-p/2.5,"px"),opacity:"1",border:"1px solid lightgray",backgroundColor:"white",backgroundImage:"url('".concat(t,"')"),backgroundRepeat:"no-repeat",borderRadius:"50%",backgroundSize:"".concat(R*f,"px ").concat(_*f,"px"),backgroundPositionX:"".concat(-g*f+p/2,"px"),backgroundPositionY:"".concat(-v*f+u/2,"px")}}))},me=r(189),pe=(r(171),function(){return a.a.createElement(me.a,{animation:"border",role:"status",variant:"primary",className:"loader"})});function de(){de=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var fe=function(e,t){return function(){var r=Object(y.a)(de().mark((function r(n,a){var o,c,i,l,u;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"ORDER_PAY_REQUEST"}),o=a(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},r.next=6,v.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:l=r.sent,u=l.data,n({type:"ORDER_PAY_SUCCESS",payload:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"ORDER_PAY_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},he=function(e,t){return function(){var r=Object(y.a)(de().mark((function r(n,a){var o,c,i,l,u;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"ORDER_UPDATE_REQUEST"}),o=a(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},r.next=6,v.a.put("/api/orders/".concat(e,"/return"),t,i);case 6:l=r.sent,u=l.data,n({type:"ORDER_UPDATE_SUCCESS",payload:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"ORDER_UPDATE_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(y.a)(de().mark((function e(t,r){var n,a,o,c,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_USER_LIST_REQUEST"}),n=r(),a=n.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.accessToken)}},e.next=6,v.a.get("/api/orders/myorders",o);case 6:c=e.sent,i=c.data,t({type:"ORDER_USER_LIST_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_USER_LIST_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},ye=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={year:"numeric",month:"short",day:"numeric"},n=new Date(e).toLocaleTimeString("en",{timeStyle:"short",hour12:!0,timeZone:"IST"}),a="";return t&&(a+="".concat(n," ")),a+new Date(e).toLocaleDateString("en",r)};r(172);function ge(){ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var ve=function(e){var t=e.history,r=e.match,o=Object(n.useState)(1),c=Object(m.a)(o,2),u=c[0],s=c[1],p=Object(n.useState)(0),d=Object(m.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)(6),g=Object(m.a)(E,2),b=g[0],w=g[1],_=Object(n.useState)(""),L=Object(m.a)(_,2),j=L[0],I=L[1],x=Object(n.useState)([]),C=Object(m.a)(x,2),N=C[0],D=C[1],A=Object(n.useState)(!1),P=Object(m.a)(A,2),z=P[0],Q=P[1],M=Object(n.useState)(!1),Y=Object(m.a)(M,2),q=Y[0],H=Y[1],W=Object(n.useState)(!1),X=Object(m.a)(W,2),K=X[0],Z=X[1],$=Object(i.b)(),ee=Object(i.c)((function(e){return e.userLogin})).userInfo,re=Object(i.c)((function(e){return e.productDetails})),ne=(re.loading,re.product),ae=re.error,oe=Object(i.c)((function(e){return e.userDetails})).error,me=Object(i.c)((function(e){return e.productCreateReview})),de=me.loading,fe=me.success,he=me.error,ve=Object(i.c)((function(e){return e.orderListUser})).orders,be=[{id:1,size:"6"},{id:2,size:"7"},{id:3,size:"8"},{id:4,size:"9"},{id:5,size:"10"}];Object(n.useEffect)((function(){ee&&$(S("profile"))}),[ee,$]),Object(n.useEffect)((function(){if(oe&&ee){var e=JSON.parse(localStorage.getItem("userInfo"));e&&$(O(e.email))}}),[oe,$,ee]),Object(n.useEffect)((function(){$(Ee())}),[$]),Object(n.useEffect)((function(){fe&&(window.alert("Review Submitted!!"),h(0),I(""),$({type:"PRODUCT_CREATE_REVIEW_RESET"})),$(J(r.params.id))}),[r,$,fe]),Object(n.useEffect)((function(){if(ne&&ne.reviews&&ee){var e,t=0,r=Object(ce.a)(ne.reviews);try{for(r.s();!(e=r.n()).done;){if(e.value.user===ee.id){t=1;break}}}catch(n){r.e(n)}finally{r.f()}H(!t)}else H(!0)}),[ne,ee]),Object(n.useEffect)((function(){if(ve&&ve.length){var e,t=0,n=Object(ce.a)(ve);try{for(n.s();!(e=n.n()).done;){var a,o=e.value,c=Object(ce.a)(o.orderItems);try{for(c.s();!(a=c.n()).done;){if(a.value.product.toString()===r.params.id){t=1;break}}}catch(i){c.e(i)}finally{c.f()}}}catch(i){n.e(i)}finally{n.f()}Q(!!t)}else Q(!1)}),[ve]),Object(n.useEffect)((function(){if(ne&&ne.reviews){var e=ne.reviews.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));D(e)}}),[ne]);var Oe=function(){var e=Object(y.a)(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(ne.description);case 2:Z(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=Object(n.useState)(null),we=Object(m.a)(Se,2),Re=we[0],_e=we[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.Link,{className:"btn btn-outline-primary my-2",to:"/"},"Go Back"),!ne||ne._id&&ne._id===r.params.id?ae?a.a.createElement(B,{variant:"danger",duration:10},ae):ne?a.a.createElement(a.a.Fragment,null,a.a.createElement(te,{title:"".concat(ne.name)}),a.a.createElement(F.a,null,a.a.createElement(G.a,{md:6},a.a.createElement(se,{src:Re||ne.image,alt:ne.name,title:ne.name}),a.a.createElement("div",{style:{display:"flex",gap:"3px",marginTop:"10px"}},ne.images&&ne.images.slice(1).map((function(e){return a.a.createElement("img",{key:e,src:e,style:{width:"100px",height:"100px",objectFit:"contain",cursor:"pointer",border:"1px solid gray"},onClick:function(){return _e(e)}})}))),a.a.createElement(ie.a,{variant:"outline-primary",className:"my-1",onClick:function(){return e=ne.image,void fetch(e).then((function(e){return e.blob()})).then((function(t){var r=document.createElement("a");r.href=URL.createObjectURL(t);var n=e.split(".").pop();r.download="product-img.".concat(n),document.body.appendChild(r),r.click()}));var e}},"Download Image")),a.a.createElement(G.a,{md:3},a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement("h3",null,ne.name)),a.a.createElement(le.a.Item,null,ne&&ne.rating&&a.a.createElement(k,{value:ne.rating,text:"".concat(ne.numReviews," Review").concat(ne.numReviews>1?"s":"")})),a.a.createElement(le.a.Item,null,a.a.createElement("strong",null,"Price: "),ne.price&&ne.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),a.a.createElement(le.a.Item,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Description:")," ",ne.description),a.a.createElement("button",{onClick:Oe},K?"Text Copied":"Copy To Clipboard")),a.a.createElement(le.a.Item,null,"Electronics"!=ne.category&&a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,"Selected Size:")," ",b||"Select a size",a.a.createElement("br",null),be&&be.map((function(e){return a.a.createElement(ie.a,{key:e.id,variant:"outline-primary",className:"btn-sm m-1",value:e.size,onClick:function(e){return w(e.target.value)}},e.size)})))))),a.a.createElement(G.a,{md:3},a.a.createElement(U.a,null,a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Price: ")),a.a.createElement(G.a,null,ne.price&&ne.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))),a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Status: ")),a.a.createElement(G.a,null,ne.countInStock>0?"In Stock":"Out of Stock"))),ne.countInStock>0&&a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Qty:")),a.a.createElement(G.a,null,a.a.createElement(R.a.Control,{as:"select",value:u,onChange:function(e){return s(e.target.value)}},Object(T.a)(Array(ne.countInStock).keys()).map((function(e){return a.a.createElement("option",{key:e+1,value:e+1},e+1)})))))),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(ie.a,{onClick:function(e){t.push("/cart/".concat(r.params.id,"?qty=").concat(u,"&size=").concat(b,"&category=").concat(ne.category))},type:"button",className:"btn-block btn-md",disabled:ne.countInStock<=0},"Add To Cart"))))))),a.a.createElement(F.a,null,a.a.createElement(G.a,{md:6},a.a.createElement("h2",{className:"mt-3"},"Reviews"),(!ne.reviews||!ne.reviews.length)&&a.a.createElement(B,{variant:"secondary"},"No Reviews Yet"),a.a.createElement(le.a,{variant:"flush"},N.map((function(e){return a.a.createElement(le.a.Item,{key:e._id},a.a.createElement("div",null,a.a.createElement("img",{src:e.avatar,alt:e.name,className:"review-avatar"}),a.a.createElement("strong",null,e.name)),a.a.createElement(k,{value:e.rating}),a.a.createElement("p",{style:{margin:"0",fontSize:"1.1em"}},e.review),a.a.createElement("small",{style:{fontSize:"0.9em"}},ye(e.createdAt,!1)))})),z&&!q&&a.a.createElement(B,null,"You have already reviewed this product"),z&&q&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Write a Customer Review"),he&&a.a.createElement(B,{variant:"info",duration:10},he),de&&a.a.createElement(pe,null),a.a.createElement(R.a,{onSubmit:function(e){var t,n;e.preventDefault(),$((t=r.params.id,n={rating:f,comment:j},function(){var e=Object(y.a)(V().mark((function e(r,a){var o,c,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),o=a(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},e.next=6,v.a.post("/api/products/".concat(t,"/reviews"),n,i);case 6:r({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:"PRODUCT_CREATE_REVIEW_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))}},a.a.createElement(R.a.Group,{controlId:"rating"},a.a.createElement(R.a.Control,{as:"select",value:f,onChange:function(e){return h(e.target.value)}},a.a.createElement("option",{default:!0},"Choose Rating"),a.a.createElement("option",{value:"1"},"1 - Bad"),a.a.createElement("option",{value:"2"},"2 - Poor"),a.a.createElement("option",{value:"3"},"3 - Fair"),a.a.createElement("option",{value:"4"},"4 - Good"),a.a.createElement("option",{value:"5"},"5 - Excellent"))),a.a.createElement(R.a.Group,{controlId:"comment"},a.a.createElement(ue.a,{controlId:"commenttext",label:"Comment",className:"my-3"},a.a.createElement(R.a.Control,{as:"textarea",placeholder:"Leave a comment here",row:"3",onChange:function(e){return I(e.target.value)},value:j}))),a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{type:"submit"},"Submit Review")))))))):"":a.a.createElement(pe,null))},be=r(190);function Oe(){Oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Se=function(e,t,r,n){return function(){var a=Object(y.a)(Oe().mark((function a(o,c){var i,l;return Oe().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.get("/api/products/".concat(e));case 3:i=a.sent,l=i.data,o({type:"CART_ADD_ITEM",payload:{product:l._id,name:l.name,image:l.image,price:l.price,countInStock:l.countInStock,qty:t,size:r,category:n}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(y.a)(Oe().mark((function t(r){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"CART_SAVE_PAYMENT_METHOD",payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){var t=e.match,r=e.location,o=e.history,c=Object(n.useState)(0),u=Object(m.a)(c,2),s=u[0],p=u[1],d=t.params.id,f=new URLSearchParams(r.search),h=f.get("qty"),E=f.get("size"),g=f.get("category"),v=Object(i.b)(),b=Object(i.c)((function(e){return e.cart})).cartItems,w=Object(i.c)((function(e){return e.userLogin})).userInfo,R=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){w&&v(S("profile"))}),[w,v]),Object(n.useEffect)((function(){b&&p(b.reduce((function(e,t){return e+t.qty}),0))}),[b]),Object(n.useEffect)((function(){if(R&&w){var e=JSON.parse(localStorage.getItem("userInfo"));e&&v(O(e.email))}}),[R,v,w]),Object(n.useEffect)((function(){v(Se(d,h,d&&"Electronics"!=g?E:E="0",g))}),[v,d,h,E,g]);var _=function(e){v(function(e){return function(){var t=Object(y.a)(Oe().mark((function t(r,n){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))}catch(R){console.log(R)}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return a.a.createElement(F.a,null,a.a.createElement(te,{title:"My Cart | Facon"}),a.a.createElement(G.a,{md:8},a.a.createElement("h1",null,"Shopping Cart."),b.length?a.a.createElement(le.a,{variant:"flush"},b.map((function(e){return a.a.createElement(le.a.Item,{key:e.product},a.a.createElement(F.a,{style:{display:"flex",alignItems:"center"}},a.a.createElement(G.a,{md:2},a.a.createElement(M.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),a.a.createElement(G.a,{md:4},a.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),a.a.createElement(G.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-evenly"}},e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),a.a.createElement("div",null,a.a.createElement("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty)),a.a.createElement(G.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-between"}},a.a.createElement(be.a,{"aria-label":"Addtocart"},a.a.createElement(ie.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:function(){v(Se(e.product,Number(e.qty+1)))},variant:"primary"},a.a.createElement("i",{className:"fas fa-plus"})),a.a.createElement(ie.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:function(){v(Se(e.product,Number(e.qty-1)))}},a.a.createElement("i",{className:"fas fa-minus"}))),a.a.createElement(ie.a,{type:"button",onClick:function(){return _(e.product)}},a.a.createElement("i",{className:"fas fa-trash"}))),a.a.createElement(G.a,{className:"d-flex d-md-none mt-2",style:{alignItems:"center",justifyContent:"space-between"}},a.a.createElement("div",{className:"d-flex",style:{fontSize:"1.2em",width:"50%"}},e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),a.a.createElement("div",{className:"ms-1"},a.a.createElement("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty)),a.a.createElement("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"space-between",width:"50%"}},a.a.createElement(ie.a,{type:"button",onClick:function(){return _(e.product)}},a.a.createElement("i",{className:"fas fa-trash"})),a.a.createElement(ie.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:function(){v(Se(e.product,Number(e.qty+1)))},variant:"primary"},a.a.createElement("i",{className:"fas fa-plus"})),a.a.createElement(ie.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:function(){v(Se(e.product,Number(e.qty-1)))}},a.a.createElement("i",{className:"fas fa-minus"}))))))}))):a.a.createElement(B,null,"Your Cart is empty. ",a.a.createElement(l.Link,{to:"/"},"Go Back.")," ")),a.a.createElement(G.a,{md:4,className:"mt-3"},a.a.createElement(le.a,null,a.a.createElement(U.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement("h2",{className:"text-center"},"Subtotal (",s,") Item",s>1&&"s"),a.a.createElement("strong",null,b.reduce((function(e,t){return e+t.qty*t.price}),0).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))),a.a.createElement(le.a.Item,null,a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{type:"button",size:"md",disabled:!b.length,onClick:function(e){o.push("/login?redirect=shipping")}},"Proceed to checkout")))))))},_e=function(e){var t=e.children;return a.a.createElement(s.a,null,a.a.createElement(F.a,{className:"justify-content-md-center"},a.a.createElement(G.a,{xs:12,md:6},t)))},Le=function(e){var t=e.location,r=e.history,o=Object(n.useState)(""),c=Object(m.a)(o,2),u=c[0],s=c[1],p=Object(n.useState)(""),d=Object(m.a)(p,2),f=d[0],h=d[1],g=Object(i.b)(),O=Object(i.c)((function(e){return e.userLogin})),S=O.loading,w=O.error,_=O.userInfo,L=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){_&&r.push(L)}),[r,_,L]);return a.a.createElement(_e,null,a.a.createElement("h1",null,"Sign In"),w&&a.a.createElement(B,{variant:"danger"},w),S&&a.a.createElement(pe,null),a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var r=Object(y.a)(b().mark((function r(n){var a,o,c;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"USER_LOGIN_REQUEST"}),a={headers:{"Content-Type":"application/json"}},r.next=5,v.a.post("/api/users/login",{email:e,password:t},a);case 5:o=r.sent,c=o.data,n({type:"USER_LOGIN_SUCCESS",payload:Object(E.a)({},c)}),n({type:"USER_LOGIN_REFRESH_SUCCESS",payload:c.refreshToken}),localStorage.setItem("refreshToken",c.refreshToken),localStorage.setItem("userInfo",JSON.stringify(Object(E.a)({},c))),localStorage.removeItem("promptEmailVerfication"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),n({type:"USER_LOGIN_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}()}(u,f))}},a.a.createElement(R.a.Group,{controlId:"email"},a.a.createElement(R.a.Label,null,"Email Address"),a.a.createElement(R.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return s(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"password"},a.a.createElement(R.a.Label,null,"Password"),a.a.createElement(R.a.Control,{type:"password",placeholder:"Enter password",value:f,onChange:function(e){return h(e.target.value)}})),a.a.createElement(ie.a,{type:"submit",variant:"primary",className:"my-2"},"Sign In")),a.a.createElement(F.a,{className:"py-3"},a.a.createElement(G.a,null,"New Customer?"," ",a.a.createElement(l.Link,{to:L?"/register?redirect=".concat(L):"/register"},"Register"))))},je=function(e){var t=e.location,r=e.history,o=Object(n.useState)(""),c=Object(m.a)(o,2),u=c[0],s=c[1],p=Object(n.useState)(""),d=Object(m.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)(""),g=Object(m.a)(E,2),O=g[0],S=g[1],w=Object(n.useState)(""),_=Object(m.a)(w,2),L=_[0],j=_[1],I=Object(n.useState)(null),x=Object(m.a)(I,2),C=x[0],T=x[1],N=Object(i.b)(),k=Object(i.c)((function(e){return e.userRegister})),U=k.loading,D=k.error,A=k.userInfo,P=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){A&&r.push(P)}),[r,A,P]);return a.a.createElement(_e,null,a.a.createElement("h1",null,"Sign Up"),C&&a.a.createElement(B,{variant:"danger"},C),D&&a.a.createElement(B,{variant:"danger"},D),U&&a.a.createElement(pe,null),a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),O!==L?T("Passwords do not match"):N(function(e,t,r){return function(){var n=Object(y.a)(b().mark((function n(a){var o,c,i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"USER_REGISTER_REQUEST"}),o={headers:{"Content-Type":"application/json"}},n.next=5,v.a.post("/api/users/",{name:e,email:t,password:r},o);case 5:c=n.sent,i=c.data,a({type:"USER_REGISTER_SUCCESS",payload:i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:"USER_REGISTER_FAILURE",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(u,f,O))}},a.a.createElement(R.a.Group,{controlId:"name"},a.a.createElement(R.a.Label,null,"Name"),a.a.createElement(R.a.Control,{type:"name",placeholder:"Enter name",value:u,onChange:function(e){return s(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"email"},a.a.createElement(R.a.Label,null,"Email Address"),a.a.createElement(R.a.Control,{type:"email",placeholder:"Enter email",value:f,onChange:function(e){return h(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"password"},a.a.createElement(R.a.Label,null,"Password"),a.a.createElement(R.a.Control,{type:"password",placeholder:"Enter password",value:O,onChange:function(e){return S(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"confirmPassword"},a.a.createElement(R.a.Label,null,"Confirm Password"),a.a.createElement(R.a.Control,{type:"password",placeholder:"Confirm password",value:L,onChange:function(e){return j(e.target.value)}})),a.a.createElement(ie.a,{type:"submit",variant:"primary",className:"my-2"},"Register")),a.a.createElement(F.a,{className:"py-3"},a.a.createElement(G.a,null,"Have an Account?"," ",a.a.createElement(l.Link,{to:P?"/login?redirect=".concat(P):"/login"},"Login"))))},Ie=r(191);r(173);function xe(){xe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Ce=function(e){var t=e.history,r=Object(n.useRef)(null),o=Object(n.useState)(!1),c=Object(m.a)(o,2),u=c[0],s=c[1],d=Object(n.useState)("password"),f=Object(m.a)(d,2),h=f[0],E=f[1],g=Object(n.useState)("password"),b=Object(m.a)(g,2),L=b[0],j=b[1],I=Object(n.useState)(""),x=Object(m.a)(I,2),C=x[0],N=x[1],k=Object(n.useState)(""),D=Object(m.a)(k,2),A=D[0],P=D[1],z=Object(n.useState)(""),Q=Object(m.a)(z,2),Y=Q[0],q=Q[1],V=Object(n.useState)(""),H=Object(m.a)(V,2),J=H[0],W=H[1],X=Object(n.useState)(""),K=Object(m.a)(X,2),Z=K[0],$=K[1],ee=Object(n.useState)(null),re=Object(m.a)(ee,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ce=Object(m.a)(oe,2),le=ce[0],se=ce[1],me=Object(n.useState)(!1),de=Object(m.a)(me,2),fe=de[0],he=de[1],ge=Object(n.useState)(""),ve=Object(m.a)(ge,2),be=ve[0],Oe=ve[1],Se=Object(i.b)(),we=Object(i.c)((function(e){return e.userDetails})),Re=we.loading,_e=we.user,Le=we.error,je=Object(i.c)((function(e){return e.userLogin})).userInfo,Ce=Object(i.c)((function(e){return e.userProfileUpdate})).success,Te=Object(i.c)((function(e){return e.orderListUser})),Ne=Te.loading,ke=Te.orders,Ue=Te.error;Object(n.useEffect)((function(){if(Le&&je){var e=JSON.parse(localStorage.getItem("userInfo"));e&&Se(O(e.email))}}),[Le,Se,je]),Object(n.useEffect)((function(){ke&&ke.length&&se(Object(T.a)(ke))}),[ke]),Object(n.useEffect)((function(){je&&(C&&je.name!==C||A&&je.email!==A?s(!0):s(!(!J&&!Z)))}),[C,A,J,Z,je]),Object(n.useEffect)((function(){Se(Ee())}),[Se]),Object(n.useEffect)((function(){je?_e&&_e.name&&!Ce?(N(_e.name),P(_e.email),q(_e.avatar)):(Se(Ee()),Se({type:"USER_PROFILE_UPDATE_RESET"}),je&&Se(S("profile")),Ce&&Se(S("profile"))):t.push("/login")}),[t,je,_e,Se,Ce,Ne]);var De=function(){var e=Object(y.a)(xe().mark((function e(t){var r,n,a,o,c;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("file",r),he(!0),e.prev=4,a={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",n,a);case 8:o=e.sent,c=o.data,q(c.secure_url),Se(w({id:_e.id,avatar:c})),he(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),Oe("Please choose a valid image"),he(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(F.a,{className:"mt-2"},a.a.createElement(te,{title:"My Profile | Facon"}),a.a.createElement(G.a,{md:3},a.a.createElement("h2",{className:"text-center"},"My Profile"),ne&&a.a.createElement(B,{dismissible:!0,variant:"warning",duration:8},ne),Le&&"Not authorised. Token failed"!==Le&&a.a.createElement(B,{variant:"danger",duration:10},Le),Ce&&a.a.createElement(B,{variant:"success",duration:8},"Profile Updated!"),Re?a.a.createElement(pe,null):a.a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap"}},be&&a.a.createElement(B,{dismissible:!0,variant:"danger",duration:10},be),fe?a.a.createElement(pe,null):a.a.createElement("div",{className:"profile-page-image",style:{alignSelf:"center"}},a.a.createElement(M.a,{src:Y,alt:C,style:{height:"5em",width:"5em",marginBottom:"1em",border:"1px solid #ced4da",borderRadius:"50%",cursor:"pointer"}}),a.a.createElement("div",{className:"image-overlay",onClick:function(){r.current.click()}},"Click to upload image")),a.a.createElement("input",{type:"file",accept:"image/*",id:"file",ref:r,onChange:De,style:{display:"none"}}),a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),J!==Z?ae("Passwords do not match. Please retry."):Se(w({id:_e.id,name:C,email:A,avatar:Y,password:J,confirmPassword:Z}))}},a.a.createElement(R.a.Group,{controlId:"name"},a.a.createElement(ue.a,{controlId:"nameinput",label:"Name"}),a.a.createElement(R.a.Control,{placeholder:"Enter Name",type:"text",value:C,onChange:function(e){return N(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"email",className:"my-2",style:je?{pointerEvents:"none",opacity:"0.8"}:{}},a.a.createElement(ue.a,{controlId:"emailinput",label:"Email"}),a.a.createElement(R.a.Control,{placeholder:"Enter Email Address",type:"email",value:A,onChange:function(e){return P(e.target.value)}})),je&&a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a.Group,null,a.a.createElement(ue.a,{controlId:"passwordinput",label:"Password"}),a.a.createElement(_.a,{className:""},a.a.createElement(ue.a,{controlId:"passwordinput",style:{display:"flex"},className:"mb-3"},a.a.createElement(R.a.Control,{type:h,placeholder:"Enter your password",value:J,style:{borderRight:"none",width:"100%"},onChange:function(e){return W(e.target.value)}}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),E("password"===h?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"}},"text"===h?a.a.createElement("i",{className:"far fa-eye-slash"}):a.a.createElement("i",{className:"far fa-eye"})))))),a.a.createElement(R.a.Group,null,a.a.createElement(ue.a,{controlId:"confirmpasswordinput",label:"Confirm Password"}),a.a.createElement(_.a,{className:"d-block"},a.a.createElement(ue.a,{controlId:"confirmpasswordinput",style:{display:"flex"},className:"mb-3"},a.a.createElement(R.a.Control,{type:L,placeholder:"Confirm password",value:Z,style:{borderRight:"none"},onChange:function(e){return $(e.target.value)}}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),j("password"===L?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"}},"text"===L?a.a.createElement("i",{className:"far fa-eye-slash"}):a.a.createElement("i",{className:"far fa-eye"}))))))),a.a.createElement("div",{className:"d-grid mb-3"},a.a.createElement(ie.a,{type:"submit",disabled:!u,style:{padding:"0.5em 1em"}},"Update Profile"))))),a.a.createElement(G.a,{md:9},le.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"text-center"},"My Orders"),Ne?a.a.createElement(pe,null):Ue?a.a.createElement(B,{variant:"danger",duration:10},Ue):a.a.createElement(Ie.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"DATE"),a.a.createElement("th",null,"TOTAL"),a.a.createElement("th",null,"PAID"),a.a.createElement("th",null,"DELIVERED"),a.a.createElement("th",null,"ACTION"))),a.a.createElement("tbody",null,ke.map((function(e,t){return a.a.createElement("tr",{key:t,style:{textAlign:"center",padding:"0"}},a.a.createElement("td",null,ye(e.createdAt)),a.a.createElement("td",null,e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:0,style:"currency",currency:"INR"})),a.a.createElement("td",null,e.isPaid?ye(e.paidAt):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",null,e.isDelivered?ye(e.deliveredAt):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",null,a.a.createElement(p.LinkContainer,{to:"/order/".concat(e._id)},a.a.createElement(ie.a,{variant:"link",className:"btn-sm",style:{margin:"0"}},"Details"))))}))))):a.a.createElement(U.a,{style:{border:"none",margin:"0 auto"}},a.a.createElement(U.a.Body,null,a.a.createElement(U.a.Title,null,"No Orders Yet!"),a.a.createElement(U.a.Text,null,"Details about all your orders will show up here."," ",a.a.createElement(l.Link,{to:"/"},"Continue Shopping"))))))},Te=(r(174),function(e){var t=e.step1,r=e.step2,n=e.step3,o=e.step4;return a.a.createElement(f.a,{className:"status-bar"},a.a.createElement("div",{className:"status-checkpoint"},a.a.createElement("div",{className:"circle",style:t?{background:"#2c3e50"}:{background:""}}),t?a.a.createElement(p.LinkContainer,{to:"/login"},a.a.createElement(f.a.Link,null,"Sign In")):a.a.createElement(f.a.Link,{disabled:!0},"Sign In")),a.a.createElement("div",{className:"connection"}),a.a.createElement("div",{className:"status-checkpoint"},a.a.createElement("div",{className:"circle",style:t&&r?{background:"#2c3e50"}:{background:""}}),r?a.a.createElement(p.LinkContainer,{to:"/shipping"},a.a.createElement(f.a.Link,null,"Shipping")):a.a.createElement(f.a.Link,{disabled:!0},"Shipping")),a.a.createElement("div",{className:"connection"}),a.a.createElement("div",{className:"status-checkpoint"},a.a.createElement("div",{className:"circle",style:t&&r&&n?{background:"#2c3e50"}:{background:""}}),n?a.a.createElement(p.LinkContainer,{to:"/payment"},a.a.createElement(f.a.Link,null,"Payment")):a.a.createElement(f.a.Link,{disabled:!0},"Payment")),a.a.createElement("div",{className:"connection"}),a.a.createElement("div",{className:"status-checkpoint"},a.a.createElement("div",{className:"circle",style:t&&r&&n&&o?{background:"#2c3e50"}:{background:""}}),o?a.a.createElement(p.LinkContainer,{to:"/placeorder"},a.a.createElement(f.a.Link,null,"Place Order")):a.a.createElement(f.a.Link,{disabled:!0},"Place Order")))}),Ne=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})),c=o.cartItems,l=o.shippingAddress,u=Object(i.c)((function(e){return e.userLogin})).userInfo,s=Object(i.c)((function(e){return e.userDetails})).error,p=Object(n.useState)(l.phone),d=Object(m.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)(l.address),g=Object(m.a)(E,2),v=g[0],b=g[1],w=Object(n.useState)(l.city),_=Object(m.a)(w,2),L=_[0],j=_[1],I=Object(n.useState)(l.postalCode),x=Object(m.a)(I,2),C=x[0],T=x[1],N=Object(n.useState)(l.country),k=Object(m.a)(N,2),U=k[0],D=k[1];Object(n.useEffect)((function(){u&&r(S("profile"))}),[u,r]),Object(n.useEffect)((function(){if(s&&u){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(O(e.email))}}),[s,r,u]),Object(n.useEffect)((function(){c.length&&u||t.push("/")}),[c,t,u]);return a.a.createElement(_e,null,a.a.createElement(Te,{step1:!0,step2:!0}),a.a.createElement("h1",null,"Shipping Address"),a.a.createElement(R.a,{onSubmit:function(e){var n;e.preventDefault(),r((n={phone:f,address:v,city:L,postalCode:C,country:U},function(){var e=Object(y.a)(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CART_SAVE_SHIPPING_ADDRESS",payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")}},a.a.createElement(R.a.Group,{controlId:"address"},a.a.createElement(ue.a,{controlId:"mobileinput",label:"Phone"}),a.a.createElement(R.a.Control,{placeholder:"Enter Your Mobile No",className:"mb-2",type:"text",value:f,required:!0,onChange:function(e){return h(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"address"},a.a.createElement(ue.a,{controlId:"addressinput",label:"Address"}),a.a.createElement(R.a.Control,{placeholder:"Enter address",className:"mb-2",type:"text",value:v,required:!0,onChange:function(e){return b(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"city"},a.a.createElement(ue.a,{controlId:"cityinput",label:"City"}),a.a.createElement(R.a.Control,{placeholder:"Enter City",className:"mb-2",type:"text",value:L,required:!0,onChange:function(e){return j(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"postalCode"},a.a.createElement(ue.a,{controlId:"postalcodeinput",label:"Postal Code"}),a.a.createElement(R.a.Control,{placeholder:"Enter Postal Code",className:"mb-2",type:"text",value:C,required:!0,onChange:function(e){return T(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"country"},a.a.createElement(ue.a,{controlId:"countryinput",label:"Country"}),a.a.createElement(R.a.Control,{placeholder:"Enter Country",className:"mb-2",type:"text",value:U,required:!0,onChange:function(e){return D(e.target.value)}})),a.a.createElement("div",{className:"d-flex"},a.a.createElement(ie.a,{type:"submit",className:"ms-auto mt-2",style:{padding:"0.5em 1em",width:"8rem"}},"Continue"))))},ke=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})).shippingAddress,c=Object(n.useState)("Stripe"),l=Object(m.a)(c,2),u=l[0],s=l[1],p=Object(i.c)((function(e){return e.userLogin})).userInfo,d=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){p&&r(S("profile"))}),[p,r]),Object(n.useEffect)((function(){if(d&&p){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(O(e.email))}}),[d,r,p]),Object(n.useEffect)((function(){o||t.push("/shipping")}),[]);var f=function(e){s(e.target.value)};return a.a.createElement(_e,null,a.a.createElement(Te,{step1:!0,step2:!0,step3:!0}),a.a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap",alignItems:"center"}},a.a.createElement("h1",null,"Payment Method"),a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),r(we(u)),t.push("/placeorder")}},a.a.createElement(R.a.Group,null,a.a.createElement(G.a,null,a.a.createElement(R.a.Check,{inline:!0,type:"radio",label:"Stripe(Credit/Debit)",id:"Stripe",name:"paymentMethod",value:"Stripe",checked:"Stripe"===u,onChange:f})),a.a.createElement(G.a,null,a.a.createElement(R.a.Check,{inline:!0,type:"radio",label:"Other Payment Methods",id:"other",name:"paymentMethod",value:"Other Payment Methods",checked:"Other Payment Methods"===u,onChange:f}))),a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{type:"submit",className:"my-3",size:"md"},"Continue")))))},Ue=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})),c=o.cartItems,u=o.shippingAddress,s=o.paymentMethod,m=Object(i.c)((function(e){return e.orderCreate})),p=m.order,d=m.loading,f=m.success,h=m.error,E=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){E&&r(S("profile")),r(S("profile"))}),[E,r]),Object(n.useEffect)((function(){if(g&&E){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(O(e.email))}}),[g,r,E]),Object(n.useEffect)((function(){f&&(localStorage.removeItem("cartItems"),r({type:"CART_RESET",payload:u}),t.push("/order/".concat(p._id)))}),[f,t]),o.itemsPrice=c.reduce((function(e,t){return e+t.price*t.qty}),0),o.shippingPrice=o.itemsPrice>8e3?500:300,o.totalPrice=o.itemsPrice+o.shippingPrice;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Te,{step1:!0,step2:!0,step3:!0,step4:!0}),a.a.createElement(F.a,null,d?a.a.createElement(pe,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{md:8},a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Shipping"),a.a.createElement("p",null,a.a.createElement("strong",null,"Address: ")," ",u.address,","," ",u.city,"-",u.postalCode,","," ",u.country),a.a.createElement("p",null,a.a.createElement("strong",null,"Phone-No: ")," ",u.phone)),a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Payment Method"),a.a.createElement("p",null,a.a.createElement("strong",null,"Method: ")," ",s)),a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Cart Items"),0!==c.length?a.a.createElement(le.a,{variant:"flush"},c.map((function(e,t){return a.a.createElement(le.a.Item,{key:t},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:2},a.a.createElement(M.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),a.a.createElement(G.a,null,a.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),a.a.createElement(G.a,{md:4},e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))}))):a.a.createElement(B,null,"Your cart is empty")))),a.a.createElement(G.a,{md:4},a.a.createElement(U.a,null,a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,{className:"text-center"},a.a.createElement("h2",{className:"text-center"},"Order Summary")),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Subtotal")),a.a.createElement(G.a,null,Number(o.itemsPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Shipping")),a.a.createElement(G.a,null,Number(o.shippingPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Total")),a.a.createElement(G.a,null,Number(o.totalPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),h&&a.a.createElement(le.a.Item,null,a.a.createElement(B,{variant:"danger",duration:10},h)),a.a.createElement(le.a.Item,{className:"d-grid gap-2"},a.a.createElement(ie.a,{type:"button",size:"md",disabled:!c.length,onClick:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,n){var a,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_CREATE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.post("/api/orders/",e,c);case 6:i=t.sent,l=i.data,r({type:"ORDER_CREATE_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_CREATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:c,shippingAddress:u,paymentMethod:s,itemsPrice:o.itemsPrice,shippingPrice:o.shippingPrice,totalPrice:o.totalPrice}))}},"Place Order"))))))))},De=r(51),Ae=r(104);function Pe(){Pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Fe=function(e){var t=e.price,r=e.orderID,o=Object(n.useState)(""),c=Object(m.a)(o,2),l=c[0],u=c[1],s=Object(i.b)(),p=Object(n.useState)(""),d=Object(m.a)(p,2),f=d[0],h=d[1],g=Object(De.useStripe)(),b=Object(De.useElements)(),O=Object(i.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){O&&t&&function(){var e=Object(y.a)(Pe().mark((function e(){var r,n;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/orders/stripe-payment",{price:t,email:O.email},{headers:{"Content-Type":"application/json"}});case 2:r=e.sent,n=r.data,h(n.clientSecret);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,O]);var S=function(){var e=Object(y.a)(Pe().mark((function e(t){var n;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g&&b){e.next=3;break}return e.abrupt("return");case 3:if(!f){e.next=10;break}return e.next=6,g.confirmCardPayment(f,{payment_method:{card:b.getElement(De.CardElement),billing_details:{name:O.name,email:O.email}}});case 6:(n=e.sent).error?u(n.error.message):(s(we("Stripe")),s(fe(r,Object(E.a)(Object(E.a)({},n.paymentIntent),{},{paymentMode:"stripe"})))),e.next=11;break;case 10:window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(R.a,{id:"payment-form",onSubmit:S},l&&a.a.createElement(B,{variant:"danger"},l),a.a.createElement(R.a.Group,{style:{margin:"1em 0",fontSize:"1em"}},a.a.createElement(De.CardElement,{id:"card-element"})),a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{disabled:!g,size:"md",type:"submit"},"Pay Now")))};function Ge(){Ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var ze=function(e){var t=e.match,r=(e.history,Object(Ae.a)("pk_test_51MSNG4SC8hoPgr9eRR3oidu0pqhV2jBWzbTF6vpceykKdjDza6gnAy1Ic3QL9rWxnh1gxITdcChmPpjL4hWK3tGO00kNWPdPmQ")),o=Object(i.b)(),c=t.params.id,u=Object(i.c)((function(e){return e.orderDetails})),s=u.loading,p=u.order,d=u.error,f=Object(i.c)((function(e){return e.orderPay})),h=f.loading,E=f.success,g=Object(i.c)((function(e){return e.orderShipped})),b=g.loading,S=g.success,w=Object(i.c)((function(e){return e.orderDeliver})),_=w.loading,L=w.success,j=Object(i.c)((function(e){return e.orderUpdate})),I=j.loading,x=j.success,C=Object(i.c)((function(e){return e.orderReturn})),T=C.loading,N=C.success,k=Object(i.c)((function(e){return e.userLogin})).userInfo,D=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){if(D&&k){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(O(e.email))}}),[D,o,k]),Object(n.useEffect)((function(){(!p||p._id!==c||E||L||S||x||N)&&(E&&o({type:"ORDER_PAY_RESET"}),S&&o({type:"ORDER_SHIPPED_RESET"}),L&&o({type:"ORDER_DELIVER_RESET"}),x&&o({type:"ORDER_UPDATE_RESET"}),N&&o({type:"ORDER_RETURN_RESET"}),o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,n){var a,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DETAILS_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/orders/".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"ORDER_DETAILS_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c)))}),[p,c,o,E,L,S,x,N]);var A=Object(n.useRef)(null),P=Object(n.useRef)(null),z=Object(n.useState)(null),Q=Object(m.a)(z,2),Y=Q[0],q=Q[1],V=Object(n.useState)(null),H=Object(m.a)(V,2),J=H[0],W=H[1],X=Object(n.useState)(!1),K=Object(m.a)(X,2),Z=K[0],$=K[1],ee=Object(n.useState)(!1),te=Object(m.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useState)(""),oe=Object(m.a)(ae,2),ce=oe[0],se=oe[1],me=function(){var e=Object(y.a)(Ge().mark((function e(t){var r,n,a,o,c;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),r=t.target.files[0],(n=new FormData).append("file",r),e.prev=4,a={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",n,a);case 8:o=e.sent,c=o.data,ne(!1),q(c.secure_url),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(y.a)(Ge().mark((function e(t){var r,n,a,o,c;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),r=t.target.files[0],(n=new FormData).append("file",r),e.prev=4,a={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",n,a);case 8:o=e.sent,c=o.data,$(!1),W(c.secure_url),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(y.a)(Ge().mark((function e(t){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Y?o(fe(c,{paymentMode:"Online",image:Y})):alert("Please upload a proof of payment");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(y.a)(Ge().mark((function e(t){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),J?o(he(c,{video:J})):alert("Please upload a proof of return");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?a.a.createElement(pe,null):d?a.a.createElement(B,{variant:"danger",duration:10},d):a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Order ",c),a.a.createElement(F.a,null,s?a.a.createElement(pe,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{md:8},a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Shipping"),a.a.createElement("p",null,a.a.createElement("strong",null,"Name: "),p.user.name),a.a.createElement("p",null,a.a.createElement("strong",null,"Email: "),a.a.createElement("a",{href:"mailto:".concat(p.user.email)},p.user.email)),a.a.createElement("p",null,a.a.createElement("strong",null,"Phone-No: "),p.shippingAddress.phone),a.a.createElement("p",null,a.a.createElement("strong",null,"Address: ")," ",p.shippingAddress.address,","," ",p.shippingAddress.city,"-",p.shippingAddress.postalCode,","," ",p.shippingAddress.country),a.a.createElement("div",null,p.isPaid&&p.isShipped?a.a.createElement(B,{variant:"success"},"Shipped at: ",ye(p.shippedAt)):a.a.createElement(B,{variant:"danger"},"Order Not Shipped Yet")),p.isShipped&&p.isDelivered&&a.a.createElement("div",null,p.isDelivered?a.a.createElement(B,{variant:"success"},"Delivered at: ",ye(p.deliveredAt)):a.a.createElement(B,{variant:"danger"},"Order Not Delivered Yet")),a.a.createElement("div",null,p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&a.a.createElement(B,{variant:"success"},"Return Requested at:"," ",ye(p.returnRequestedAt))),a.a.createElement("div",null,p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&p.isreturnConfirmed&&a.a.createElement(B,{variant:"success"},"Return Confirmed at:"," ",ye(p.returnConfirmedAt)))),a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Payment Method"),a.a.createElement("p",null,a.a.createElement("strong",null,"Method: ")," ",p.paymentMethod),a.a.createElement("div",null,p.isPaid?a.a.createElement(a.a.Fragment,null,a.a.createElement(B,{variant:"success"},"Order Confirmed and Paid at:"," ",ye(p.paidAt))):a.a.createElement(B,{variant:"danger"},"Not Paid"))),a.a.createElement(le.a.Item,null,a.a.createElement("h2",null,"Cart Items"),0!==p.orderItems.length?a.a.createElement(le.a,{variant:"flush"},a.a.createElement("div",{style:{background:"red"}}),p.orderItems.map((function(e,t){return a.a.createElement(le.a.Item,{key:t},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:2},a.a.createElement(M.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),a.a.createElement(G.a,null,a.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),a.a.createElement(G.a,{md:4},e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))),a.a.createElement(F.a,null,"Electronics"!=e.category&&a.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold"}},"Size Ordered: ",e.size)))}))):a.a.createElement(B,null,"No order")))),a.a.createElement(G.a,{md:4},a.a.createElement(U.a,null,a.a.createElement(le.a,{variant:"flush"},a.a.createElement(le.a.Item,null,a.a.createElement("h2",{className:"text-center"},"Order Summary")),d&&a.a.createElement(le.a.Item,null,a.a.createElement(B,{variant:"danger",duration:10},d)),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Subtotal")),a.a.createElement(G.a,null,p.orderItems.map((function(e,t){return(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})}))))),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Shipping")),a.a.createElement(G.a,null,p.shippingPrice&&p.shippingPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),a.a.createElement(le.a.Item,null,a.a.createElement(F.a,null,a.a.createElement(G.a,null,a.a.createElement("strong",null,"Total")),a.a.createElement(G.a,null,p.totalPrice&&p.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),!p.isPaid&&"Stripe"===p.paymentMethod&&a.a.createElement(a.a.Fragment,null,a.a.createElement(le.a.Item,null,h&&a.a.createElement(pe,null),a.a.createElement(De.Elements,{stripe:r},a.a.createElement(Fe,{price:100*p.totalPrice,orderID:c})))),!p.isPaid&&"Stripe"!==p.paymentMethod&&a.a.createElement(le.a.Item,null,re&&a.a.createElement(pe,null),h&&a.a.createElement(pe,null),a.a.createElement("p",null,"Please Upload Your Payment ScreenShot Here to confirm your order"),a.a.createElement("input",{accept:"image/*",type:"file",id:"file",ref:A,onChange:me}),a.a.createElement(ie.a,{type:"button",variant:"primary",className:"mt-2",onClick:ge},"Upload & Confirm Payment")),p.isPaid&&p.isShipped&&p.isDelivered&&!k.isAdmin&&!p.isReturedRequested&&a.a.createElement(le.a.Item,null,Z&&a.a.createElement(pe,null),I&&a.a.createElement(pe,null),a.a.createElement("p",{className:"font-weight-bold"},"According to our policy we only accept return request if you received a damaged product."),a.a.createElement("p",null,"Please Upload Your Product Video here."),a.a.createElement("input",{type:"file",id:"file",ref:P,onChange:Ee}),a.a.createElement(ie.a,{type:"button",variant:"primary",className:"mt-2",onClick:ve},"Upload & Confirm Return")),k&&k.isAdmin&&p.isPaid&&!p.isShipped&&a.a.createElement(le.a.Item,null,b&&a.a.createElement(pe,null),a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,n){var a,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_SHIPPED_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/orders/".concat(e,"/ship"),{},c);case 6:i=t.sent,l=i.data,r({type:"ORDER_SHIPPED_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_SHIPPED_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))}},"Mark as Shipped"))),k&&k.isAdmin&&p.isPaid&&p.isShipped&&!p.isDelivered&&a.a.createElement(le.a.Item,null,_&&a.a.createElement(pe,null),a.a.createElement("div",{className:"d-grid"},a.a.createElement(ie.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,n){var a,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DELIVER_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/orders/".concat(e,"/deliver"),{},c);case 6:i=t.sent,l=i.data,r({type:"ORDER_DELIVER_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DELIVER_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))}},"Mark as Delivered"))),k&&k.isAdmin&&p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&!p.isreturnConfirmed&&a.a.createElement(le.a.Item,null,T&&a.a.createElement(pe,null),a.a.createElement("div",{className:"d-grid"},a.a.createElement(R.a.Group,{controlId:"name"},a.a.createElement(ue.a,{controlId:"returninput",label:"Enter Return Address",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter Return Address",type:"text",value:ce,onChange:function(e){return se(e.target.value)}}))),a.a.createElement(ie.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e,t){return function(){var r=Object(y.a)(de().mark((function r(n,a){var o,c,i,l,u;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"ORDER_RETURN_REQUEST"}),o=a(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},r.next=6,v.a.put("/api/orders/".concat(e,"/confirm-return"),t,i);case 6:l=r.sent,u=l.data,n({type:"ORDER_RETURN_SUCCESS",payload:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"ORDER_RETURN_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(c,{returnAddress:ce}))}},"Accept Return Request"))),k&&!k.isAdmin&&p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&p.isreturnConfirmed&&p.returnAddress&&a.a.createElement("div",{className:"px-3 py-2"},a.a.createElement("h3",{style:{fontSize:"16px"}},"Your return request has been confirmed. ",a.a.createElement("br",null)," Please Return the order at the below given address"," "),a.a.createElement("p",null,p.returnAddress))))))))},Qe=function(e){var t=e.match,r=e.history,o=t.params.pageNumber||1,c=Object(i.b)(),l=Object(i.c)((function(e){return e.userList})),u=l.loading,s=l.users,m=l.error,d=l.page,f=l.pages,h=l.total,E=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDelete})).success,S=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){if(S&&E){var e=JSON.parse(localStorage.getItem("userInfo"));e&&c(O(e.email))}}),[S,c,E]),Object(n.useEffect)((function(){E&&E.isAdmin?c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_LIST_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/users?pageNumber=".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"USER_LIST_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_LIST_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(o)):r.push("/login")}),[c,r,E,g,o]);var w=function(e){window.confirm("Are you sure you wanna delete user?")&&c(function(e){return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DELETE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.delete("/api/users/".concat(e),c);case 6:r({type:"USER_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"USER_DELETE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Users (","".concat(h||0),")"),u?a.a.createElement(pe,null):m?a.a.createElement(B,{variant:"danger",duration:10},m):a.a.createElement(Ie.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"ID"),a.a.createElement("th",null,"NAME"),a.a.createElement("th",null,"EMAIL"),a.a.createElement("th",null,"ADMIN"),a.a.createElement("th",null,"ACTION"))),a.a.createElement("tbody",null,s&&s.map((function(e){return a.a.createElement("tr",{key:e._id},a.a.createElement("td",null,e._id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,a.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),a.a.createElement("td",null,e.isAdmin?a.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},a.a.createElement(p.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},a.a.createElement(ie.a,{variant:"link",className:"btn-sm"},a.a.createElement("i",{className:"fas fa-edit"}))),a.a.createElement(ie.a,{className:"btn-sm",variant:"danger",onClick:function(){return w(e._id)}},a.a.createElement("i",{className:"fas fa-trash"}))))})))),a.a.createElement(P,{pages:f,page:d,isAdmin:!0,forUsers:!0}))},Me=function(e){var t=e.match,r=e.history,o=t.params.id,c=Object(n.useState)(""),u=Object(m.a)(c,2),s=u[0],p=u[1],d=Object(n.useState)(""),f=Object(m.a)(d,2),h=f[0],g=f[1],w=Object(n.useState)(!1),L=Object(m.a)(w,2),j=L[0],I=L[1],x=Object(i.b)(),C=Object(i.c)((function(e){return e.userDetails})),T=C.loading,N=C.user,k=C.error,U=Object(i.c)((function(e){return e.userUpdate})),D=U.loading,A=U.error,P=U.success,F=Object(i.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){if(k&&F){var e=JSON.parse(localStorage.getItem("userInfo"));e&&x(O(e.email))}}),[k,x,F]),Object(n.useEffect)((function(){P?(x({type:"USER_UPDATE_RESET"}),r.push("/admin/userlist")):N&&N.name&&N._id===o?(p(N.name),g(N.email),I(N.isAdmin)):x(S(o))}),[N,x,o,P,r]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.Link,{to:"/admin/userlist"},a.a.createElement(ie.a,{variant:"outline-primary",className:"my-3"},"Go Back")),a.a.createElement(_e,null,N&&a.a.createElement(te,{title:"Edit ".concat(N.name," | Facon")}),a.a.createElement("h1",null,"Edit User"),D?a.a.createElement(pe,null):A?a.a.createElement(B,{variant:"danger",duration:10},A):a.a.createElement(a.a.Fragment,null,T?a.a.createElement(pe,null):a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),x(function(e){return function(){var t=Object(y.a)(b().mark((function t(r,n){var a,o,c,i,l,u;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_UPDATE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/users/".concat(e._id),e,c);case 6:i=t.sent,l=i.data,r({type:"USER_UPDATE_SUCCESS"}),r({type:"USER_DETAILS_SUCCESS",payload:Object(E.a)({},l)}),l.id===o.id&&(u=Object(E.a)(Object(E.a)(Object(E.a)({},o),o),{},{id:l.id,name:l.name,email:l.email,isAdmin:l.isAdmin,isConfirmed:l.isConfirmed}),r({type:"USER_LOGIN_SUCCESS",payload:u}),localStorage.setItem("userInfo",JSON.stringify(u))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:"USER_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:o,name:s,email:h,isAdmin:j}))}},k&&a.a.createElement(B,{variant:"danger",duration:10},k),a.a.createElement(R.a.Group,{controlId:"name",className:"mb-2"},a.a.createElement(R.a.Label,null,"Name"),a.a.createElement(R.a.Control,{placeholder:"Enter Name",type:"text",value:s,onChange:function(e){return p(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"email",className:"my-2"},a.a.createElement(R.a.Label,null,"Email Address"),a.a.createElement(R.a.Control,{placeholder:"Enter Email Address",type:"email",value:h,onChange:function(e){return g(e.target.value)}})),a.a.createElement(R.a.Group,{controlId:"isAdmin",className:"my-2"},a.a.createElement(_.a,null,a.a.createElement(R.a.Check,{type:"checkbox",label:"Is Admin",style:{borderRight:"none"},checked:j,onChange:function(e){return I(e.target.checked)}}))),a.a.createElement(ie.a,{type:"submit",variant:"dark",className:"my-1"},"Edit")))))},Ye=function(e){var t=e.history,r=e.match.params.pageNumber||1,o=Object(i.b)(),c=Object(i.c)((function(e){return e.productList})),l=c.loading,u=c.products,s=c.error,m=c.pages,d=c.page,f=Object(i.c)((function(e){return e.productDelete})),h=f.loading,E=f.success,g=f.error,b=Object(i.c)((function(e){return e.productCreate})),w=b.loading,R=b.success,_=b.error,L=b.product,j=Object(i.c)((function(e){return e.userLogin})).userInfo,I=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){j&&o(S("profile"))}),[j,o]),Object(n.useEffect)((function(){if(I&&j){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(O(e.email))}}),[I,o,j]),Object(n.useEffect)((function(){j.isAdmin||t.push("/login"),o({type:"PRODUCT_CREATE_RESET"}),R?t.push("/admin/product/".concat(L._id,"/edit")):o(H("",r,10))}),[o,t,j,E,R,L,r]);var x=function(e){window.confirm("Are you sure you wanna delete this product?")&&o(function(e){return function(){var t=Object(y.a)(V().mark((function t(r,n){var a,o,c,i;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DELETE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.delete("/api/products/".concat(e),c);case 6:i=t.sent,i.data&&r({type:"PRODUCT_DELETE_SUCCESS"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"PRODUCT_DELETE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,{className:"align-items-center"},a.a.createElement(G.a,null,a.a.createElement("h1",null,"Products")),a.a.createElement(G.a,{style:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(ie.a,{className:"my-3",style:{padding:"0.5em 1em"},onClick:function(){o(function(){var e=Object(y.a)(V().mark((function e(t,r){var n,a,o,c,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUEST"}),n=r(),a=n.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.accessToken)}},e.next=6,v.a.post("/api/products/",{},o);case 6:c=e.sent,i=c.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())}},a.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),g&&a.a.createElement(B,{variant:"danger",duration:10},g),_&&a.a.createElement(B,{variant:"danger",duration:10},_),l||w||h?a.a.createElement(pe,null):s?a.a.createElement(B,{variant:"danger",duration:10},s):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"ID"),a.a.createElement("th",null,"NAME"),a.a.createElement("th",null,"PRICE"),a.a.createElement("th",null,"CATEGORY"),a.a.createElement("th",null,"BRAND"),a.a.createElement("th",null,"ACTION"))),a.a.createElement("tbody",null,u&&u.map((function(e){return a.a.createElement("tr",{key:e._id},a.a.createElement("td",null,e._id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.price&&e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),a.a.createElement("td",null,e.category),a.a.createElement("td",null,e.brand),a.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},a.a.createElement(p.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},a.a.createElement(ie.a,{variant:"link",className:"btn-sm"},a.a.createElement("i",{className:"fas fa-edit"}))),a.a.createElement(ie.a,{className:"btn-sm",onClick:function(){return x(e._id)},variant:"danger"},a.a.createElement("i",{style:{fontSize:"0.9em",padding:"0"},className:"fas fa-trash"}))))})))),a.a.createElement(P,{pages:m,page:d,isAdmin:!0})))};function qe(){qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(a||[]);return n(c,"_invoke",{value:O(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function p(){}function d(){}function f(){}var h={};l(h,o,(function(){return this}));var E=Object.getPrototypeOf,y=E&&E(E(L([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=S(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,n(g,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Be=function(e){var t=e.match,r=e.history,o=t.params.id,c=Object(n.useState)(""),u=Object(m.a)(c,2),s=u[0],p=u[1],d=Object(n.useState)(""),f=Object(m.a)(d,2),h=f[0],E=f[1],g=Object(n.useState)(""),b=Object(m.a)(g,2),w=b[0],_=b[1],L=Object(n.useState)(""),j=Object(m.a)(L,2),I=j[0],x=j[1],C=Object(n.useState)(""),N=Object(m.a)(C,2),k=N[0],U=N[1],D=Object(n.useState)([]),A=Object(m.a)(D,2),P=A[0],z=A[1],Q=Object(n.useState)(0),Y=Object(m.a)(Q,2),q=Y[0],H=Y[1],W=Object(n.useState)(0),X=Object(m.a)(W,2),K=X[0],Z=X[1],$=Object(n.useState)(!1),ee=Object(m.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(!1),ae=Object(m.a)(ne,2),oe=ae[0],ce=ae[1],le=Object(n.useState)(""),se=Object(m.a)(le,2),me=se[0],de=se[1],fe=Object(n.useState)(""),he=Object(m.a)(fe,2),Ee=he[0],ye=he[1],ge=Object(i.b)(),ve=Object(i.c)((function(e){return e.productDetails})),be=ve.loading,Oe=ve.product,Se=ve.error,we=Object(i.c)((function(e){return e.productUpdate})),Re=we.loading,Le=we.success,je=we.error,Ie=Object(i.c)((function(e){return e.userLogin})).userInfo,xe=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){Ie&&ge(S("profile"))}),[Ie,ge]),Object(n.useEffect)((function(){if(xe&&Ie){var e=JSON.parse(localStorage.getItem("userInfo"));e&&ge(O(e.email))}}),[xe,ge,Ie]),Object(n.useEffect)((function(){ge(J(o))}),[]),Object(n.useEffect)((function(){Le?(ge({type:"PRODUCT_UPDATE_RESET"}),r.push("/admin/productlist")):Oe&&Oe._id===o?(p(Oe.name),H(Oe.price),U(Oe.image),z(Oe.images),E(Oe.brand),_(Oe.category),x(Oe.description),Z(Oe.countInStock)):ge(J(o))}),[Oe,ge,o,r,Le]);var Ce=Object(n.useRef)(null),Te=Object(n.useRef)(null),Ne=function(){var e=Object(y.a)(qe().mark((function e(t){var r,n,a,o,c;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("file",r),re(!0),e.prev=4,a={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",n,a);case 8:o=e.sent,c=o.data,U(c.secure_url),re(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),de("Please choose a valid image"),re(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(y.a)(qe().mark((function e(t){var r,n,a,o,c;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.target.files,n=new FormData,a=0;a<r.length;a++)n.append("files",r[a]);return ce(!0),e.prev=4,o={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload/images",n,o);case 8:c=e.sent,c.data.map((function(e){z((function(t){return[].concat(Object(T.a)(t),[e.secure_url])}))})),ce(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),ye("Please choose valid images"),ce(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.Link,{to:"/admin/productlist"},a.a.createElement(ie.a,{variant:"outline-primary",className:"mt-3"},"Go Back")),a.a.createElement(_e,{style:{marginTop:"-2em"}},a.a.createElement("h1",null,"Edit Product"),Re?a.a.createElement(pe,null):je?a.a.createElement(B,{variant:"danger",duration:10},je):a.a.createElement(a.a.Fragment,null,be?a.a.createElement(pe,null):a.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),ge(function(e){return function(){var t=Object(y.a)(V().mark((function t(r,n){var a,o,c,i,l;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_UPDATE_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/products/".concat(e._id),e,c);case 6:i=t.sent,l=i.data,r({type:"PRODUCT_UPDATE_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"PRODUCT_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:o,name:s,brand:h,price:q,category:w,description:I,countInStock:K,image:k,images:P}))}},Se&&a.a.createElement(B,{variant:"danger",duration:10},Se),a.a.createElement(R.a.Group,{controlId:"name"},a.a.createElement(ue.a,{controlId:"nameinput",label:"Name",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter Name",type:"text",value:s,onChange:function(e){return p(e.target.value)}}))),a.a.createElement(R.a.Group,{controlId:"price"},a.a.createElement(ue.a,{controlId:"priceinput",label:"Price",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter price",type:"number",value:q,min:"0",max:"10000",step:"0.1",onChange:function(e){return H(e.target.value)}}))),me&&a.a.createElement(B,{variant:"danger",duration:10},me),te?a.a.createElement("div",null,"Uploading..."):a.a.createElement(R.a.Group,{controlId:"image"},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:9},a.a.createElement(ue.a,{controlId:"imageinput",label:"Image URL",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter image URL",type:"text",value:k,onChange:function(e){return U(e.target.value)}}))),a.a.createElement(G.a,{md:3},a.a.createElement("input",{accept:"image/*",type:"file",id:"file",ref:Ce,onChange:Ne,style:{display:"none"}}),a.a.createElement("div",{className:"profile-page-image",style:{alignSelf:"center"}},a.a.createElement(M.a,{src:k,alt:s,title:"Click to input file",style:{width:"100%",border:"1px solid #ced4da",marginBottom:"1em",cursor:"pointer",borderRadius:"0.25rem"}}),a.a.createElement("div",{className:"image-overlay-product",onClick:function(){Ce.current.click()}},"Click to upload image"))))),Ee&&a.a.createElement(B,{variant:"danger",duration:10},Ee),oe?a.a.createElement("div",null,"Uploading..."):a.a.createElement(R.a.Group,{controlId:"image"},a.a.createElement("div",{className:"mb-2"},"Product Images"),a.a.createElement(F.a,null,a.a.createElement(G.a,{md:2},a.a.createElement("input",{accept:"image/*",type:"file",id:"file",ref:Te,onChange:ke,multiple:!0}))),a.a.createElement("div",{className:"d-flex my-2",style:{alignSelf:"center"}},P.length>0&&P.map((function(e){return a.a.createElement("img",{src:e,alt:e,style:{width:"100px",height:"100px",objectFit:"contain",marginRight:"5px",border:"1px solid #ced4da"}})})))),a.a.createElement(R.a.Group,{controlId:"brand"},a.a.createElement(ue.a,{controlId:"brandinput",label:"Brand",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter brand",type:"text",value:h,onChange:function(e){return E(e.target.value)}}))),a.a.createElement(R.a.Group,{controlId:"category"},a.a.createElement(ue.a,{controlId:"categoryinput",label:"Category",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter category",type:"text",value:w,onChange:function(e){return _(e.target.value)}}))),a.a.createElement(R.a.Group,{controlId:"description"},a.a.createElement(ue.a,{controlId:"descinput",label:"Description",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter description URL",type:"text",value:I,onChange:function(e){return x(e.target.value)}}))),a.a.createElement(R.a.Group,{controlId:"countInStock"},a.a.createElement(ue.a,{controlId:"countinstockinput",label:"CountInStock",className:"mb-3"},a.a.createElement(R.a.Control,{placeholder:"Enter Count In Stock",type:"number",min:"0",max:"1000",value:K,onChange:function(e){return Z(e.target.value)}}))),a.a.createElement("div",{className:"d-flex"},a.a.createElement(ie.a,{type:"submit",className:"my-1 ms-auto"},"Update Product"))))))},Ve=function(e){var t=e.history,r=e.match.params.pageNumber||1,o=Object(i.b)(),c=Object(i.c)((function(e){return e.orderListAll})),l=c.loading,u=c.orders,s=c.error,d=c.page,f=c.pages,h=c.total,E=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDetails})).error;Object(n.useEffect)((function(){if(g&&E){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(O(e.email))}}),[g,o,E]),Object(n.useEffect)((function(){E&&E.isAdmin?o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(y.a)(de().mark((function t(r,n){var a,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_ALL_LIST_REQUEST"}),a=n(),o=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/orders?pageNumber=".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"ORDER_ALL_LIST_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_ALL_LIST_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r)):t.push("/login")}),[o,t,E,r]);var b=Object(n.useState)(null),S=Object(m.a)(b,2),w=(S[0],S[1],function(e){fetch(e).then((function(e){return e.blob()})).then((function(t){var r=document.createElement("a");r.href=URL.createObjectURL(t);var n=e.split(".").pop();r.download="payment-verification.".concat(n),document.body.appendChild(r),r.click()}))});return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,{className:"align-items-center"},a.a.createElement(G.a,null,a.a.createElement("h1",null,"All Orders (","".concat(h||0),")"))),l?a.a.createElement(pe,null):s?a.a.createElement(B,{variant:"danger",duration:10},s):a.a.createElement(Ie.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"ID"),a.a.createElement("th",null,"USER"),a.a.createElement("th",null,"TOTAL"),a.a.createElement("th",null,"DATE"),a.a.createElement("th",null,"PAID"),a.a.createElement("th",null,"Payment Verification"),a.a.createElement("th",null,"SHIPPED"),a.a.createElement("th",null,"DELIVERED"),a.a.createElement("th",null,"Return Requested"),a.a.createElement("th",null,"Return Verification"),a.a.createElement("th",null,"Return Confirmed"),a.a.createElement("th",null,"ACTION"))),a.a.createElement("tbody",null,u&&u.map((function(e){return a.a.createElement("tr",{key:e._id},a.a.createElement("td",null,e._id),a.a.createElement("td",null,e.user&&e.user.name),a.a.createElement("td",null,e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),a.a.createElement("td",null,ye(e.createdAt)),a.a.createElement("td",null,e.isPaid?ye(e.paidAt):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",null,e.paymentResult&&a.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyItems:"center",gap:"10px",cursor:"pointer"}},a.a.createElement("img",{src:e.paymentResult.imageUrl,alt:"payment-verified",style:{width:"50px"}}),a.a.createElement("i",{className:"fa fa-download",onClick:function(){return w(e.paymentResult.imageUrl)}}))),a.a.createElement("td",null,e.isShipped?ye(e.shippedAt):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",null,e.isDelivered?ye(e.deliveredAt):a.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),a.a.createElement("td",null,e.isReturedRequested?"Yes":"No"),a.a.createElement("td",null,e.returnResult&&a.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyItems:"center",gap:"10px",cursor:"pointer"}},a.a.createElement("img",{src:e.returnResult.videoUrl,alt:"payment-verified",style:{width:"50px"}}),a.a.createElement("i",{className:"fa fa-download",onClick:function(){return w(e.returnResult.videoUrl)}}))),a.a.createElement("td",null,e.isreturnConfirmed?"Yes":"No"),a.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},a.a.createElement(p.LinkContainer,{to:"/order/".concat(e._id)},a.a.createElement(ie.a,{variant:"link",className:"btn-sm"},"View Details"))))})))),a.a.createElement(P,{pages:f,page:d,isAdmin:!0,forOrders:!0}))},He=r(105),Je=r.n(He),We=(r(175),function(){return a.a.createElement("div",{className:"text-center"},a.a.createElement("img",{className:"error-img",alt:"error",src:Je.a}),a.a.createElement("p",{className:"mb-0 mt-3 text-error"},a.a.createElement("i",{className:"far fa-frown"})," Looks like this page does not exist."),a.a.createElement("p",{className:"mt-0 text-error"},"Go Back to the ",a.a.createElement(l.Link,{to:"/"},"Home Page")))}),Xe=function(){return a.a.createElement(l.BrowserRouter,null,a.a.createElement(x,null),a.a.createElement("main",{className:"py-2"},a.a.createElement(s.a,null,a.a.createElement(u.g,null,a.a.createElement(u.d,{path:"/",component:oe,exact:!0}),a.a.createElement(u.d,{path:"/search/:keyword",component:oe,exact:!0}),a.a.createElement(u.d,{path:"/page/:pageNumber",component:oe,exact:!0}),a.a.createElement(u.d,{path:"/search/:keyword/page/:pageNumber",exact:!0,component:oe}),a.a.createElement(u.d,{path:"/login",component:Le}),a.a.createElement(u.d,{path:"/register",component:je}),a.a.createElement(u.d,{path:"/profile",component:Ce}),a.a.createElement(u.d,{path:"/product/:id",component:ve}),a.a.createElement(u.d,{path:"/cart/:id?",component:Re}),a.a.createElement(u.d,{path:"/shipping",component:Ne}),a.a.createElement(u.d,{path:"/payment",component:ke}),a.a.createElement(u.d,{path:"/placeorder",component:Ue}),a.a.createElement(u.d,{path:"/order/:id",component:ze}),a.a.createElement(u.d,{path:"/admin/userlist",component:Qe,exact:!0}),a.a.createElement(u.d,{path:"/admin/userlist/:pageNumber",component:Qe,exact:!0}),a.a.createElement(u.d,{path:"/admin/user/:id/edit",component:Me}),a.a.createElement(u.d,{path:"/admin/productlist",exact:!0,component:Ye}),a.a.createElement(u.d,{path:"/admin/productlist/:pageNumber",component:Ye,exact:!0}),a.a.createElement(u.d,{path:"/admin/product/:id/edit",component:Be}),a.a.createElement(u.d,{path:"/admin/orderlist",component:Ve,exact:!0}),a.a.createElement(u.d,{path:"/admin/orderlist/:pageNumber",component:Ve,exact:!0}),a.a.createElement(u.d,{component:We})))),a.a.createElement(C,null))},Ke=r(65),Ze=r(107),$e=r(106),et=Object(Ke.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case"PRODUCT_LIST_FAILURE":return{loading:!1,error:t.payload};default:return{state:e}}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(E.a)({loading:!0},e);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return Object(E.a)({},e)}},productCreateReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return Object(E.a)({},e)}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return Object(E.a)({},e)}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_RATED_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_RATED_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_TOP_RATED_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(E.a)(Object(E.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(E.a)(Object(E.a)({},e),{},{cartItems:[].concat(Object(T.a)(e.cartItems),[r])});case"CART_REMOVE_ITEM":return Object(E.a)(Object(E.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(E.a)(Object(E.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(E.a)(Object(E.a)({},e),{},{paymentMethod:t.payload});case"CART_RESET":return{cartItems:[],shippingAddress:t.payload};default:return Object(E.a)({},e)}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAILURE":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return Object(E.a)({},e)}},userLoginRefresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REFRESH_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_LOGIN_REFRESH_SUCCESS":return{loading:!1,tokenInfo:t.payload};case"USER_LOGIN_REFRESH_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},userSendEmailVerfication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EMAIL_VERIFICATION_REQUEST":return{isLoading:!0};case"USER_EMAIL_VERIFICATION_SUCCESS":return{isLoading:!0,emailSent:t.payload};case"USER_EMAIL_VERIFICATION_FAILURE":return{isLoading:!0,hasError:t.payload};default:return Object(E.a)({},e)}},userConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isConfirmed:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CONFIRM_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_CONFIRM_SUCCESS":return{loading:!1,isConfirmed:t.payload};case"USER_CONFIRM_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},userResetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_RESET_PASSWORD_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_RESET_PASSWORD_SUCCESS":return{loading:!1,resetPassword:t.payload};case"USER_RESET_PASSWORD_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAILURE":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:{}};default:return Object(E.a)({},e)}},userProfileUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILE_UPDATE_REQUEST":return{loading:!0};case"USER_PROFILE_UPDATE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_PROFILE_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"USER_PROFILE_UPDATE_RESET":return{};default:return Object(E.a)({},e)}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload.users,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case"USER_LIST_FAILURE":return{loading:!1,error:t.payload};case"USER_LIST_RESET":return{users:[]};default:return Object(E.a)({},e)}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"USER_UPDATE_RESET":return{user:{}};default:return Object(E.a)({},e)}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_CREATE_FAILURE":return{loading:!1,error:t.payload};case"ORDER_CREATE_RESET":return{};default:return Object(E.a)({},e)}},orderUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_UPDATE_REQUEST":return{loading:!0};case"ORDER_UPDATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"ORDER_UPDATE_RESET":return{order:{}};default:return Object(E.a)({},e)}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAILURE":return{loading:!1,error:t.payload};case"ORDER_PAY_RESET":return{};default:return Object(E.a)({},e)}},orderShipped:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_SHIPPED_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_SHIPPED_SUCCESS":return{loading:!1,success:!0};case"ORDER_SHIPPED_FAILURE":return{loading:!1,error:t.payload};case"ORDER_SHIPPED_RESET":return{};default:return Object(E.a)({},e)}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAILURE":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return Object(E.a)({},e)}},orderReturn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_RETURN_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_RETURN_SUCCESS":return{loading:!1,success:!0};case"ORDER_RETURN_FAILURE":return{loading:!1,error:t.payload};case"ORDER_RETURN_RESET":return{};default:return Object(E.a)({},e)}},orderListUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_USER_LIST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_USER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_USER_LIST_FAILURE":return{loading:!1,error:t.payload};case"ORDER_USER_LIST_RESET":return{orders:[]};default:return Object(E.a)({},e)}},orderListAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_ALL_LIST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_ALL_LIST_SUCCESS":return{loading:!1,orders:t.payload.orders,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case"ORDER_ALL_LIST_FAILURE":return{loading:!1,error:t.payload};default:return Object(E.a)({},e)}}}),tt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],rt=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,nt=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},at=localStorage.getItem("refreshToken")?localStorage.getItem("refreshToken"):null,ot={cart:{cartItems:Object(T.a)(tt),shippingAddress:nt},userLogin:{userInfo:rt},userLoginRefresh:{tokenInfo:at}},ct=[Ze.a],it=Object(Ke.createStore)(et,ot,Object($e.composeWithDevTools)(Ke.applyMiddleware.apply(void 0,ct)));r(176),r(177);c.a.render(a.a.createElement(i.a,{store:it},a.a.createElement($.b,null,a.a.createElement(Xe,null))),document.getElementById("root"))},99:function(e,t,r){e.exports=r.p+"static/media/logo.b7d7682a.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.3292374e.chunk.js.map