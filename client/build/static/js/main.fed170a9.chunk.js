/*! For license information please see main.fed170a9.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,r){e.exports=r.p+"static/media/404Error.5e10127c.png"},110:function(e,t,r){e.exports=r(178)},141:function(e,t,r){},144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},147:function(e,t,r){},171:function(e,t,r){},172:function(e,t,r){},173:function(e,t,r){},174:function(e,t,r){},175:function(e,t,r){},176:function(e,t,r){},177:function(e,t,r){},178:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(24),c=r.n(o),i=r(5),l=r(14),s=r(20),u=r(185),m=r(3),p=r(19),d=r(193),f=r(197),E=r(192),h=r(1),y=r(9),g=r(11),v=r.n(g);function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(x){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new j(n||[]);return a(c,"_invoke",{value:O(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(L([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function O(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=R(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(S.prototype),l(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new S(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;_(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var S=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c,i,l,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_LOGIN_REFRESH_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json"}},t.next=6,v.a.post("/api/users/refresh",{email:e,token:o.refreshToken},c);case 6:i=t.sent,(l=i.data).success?(r({type:"USER_LOGIN_REFRESH_SUCCESS",payload:l}),s=Object(h.a)(Object(h.a)({},o),{},{accessToken:l.accessToken,refreshToken:o.refreshToken}),localStorage.setItem("userInfo",JSON.stringify(s)),r({type:"USER_LOGIN_SUCCESS",payload:s})):l.success||(localStorage.removeItem("userInfo"),localStorage.setItem("redirectLogin","true"),r({type:"USER_LOGOUT"})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_LOGIN_REFRESH_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DETAILS_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/users/".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"USER_DETAILS_SUCCESS",payload:Object(h.a)({},l)}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_PROFILE_UPDATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/users/profile",e,c);case 6:i=t.sent,l=i.data,r({type:"USER_PROFILE_UPDATE_SUCCESS",payload:Object(h.a)({},l)}),r({type:"USER_LOGIN_SUCCESS",payload:Object(h.a)({},l)}),localStorage.setItem("userInfo",JSON.stringify(Object(h.a)({},l))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:"USER_PROFILE_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},w=r(194),_=r(184),j=function(e){var t=e.history,r=Object(a.useState)(""),o=Object(m.a)(r,2),c=o[0],i=o[1];return n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},className:"d-flex"},n.a.createElement(_.a,{className:"mt-2"},n.a.createElement(w.a.Control,{type:"text",style:{border:"1px solid #2c3e50",borderRight:"none"},name:"keyword",className:"mr-sm-2 ml-sm-4",onChange:function(e){return i(e.target.value)},placeholder:"Search Products...",value:c}),n.a.createElement(_.a.Text,{style:{background:"white",border:"1px solid #2c3e50",borderLeft:"none"}},n.a.createElement("button",{"aria-label":"search",style:{margin:"0",border:"0",outline:"0",background:"transparent",padding:"0"},type:"submit"},n.a.createElement("i",{style:{color:"#95a5a6"},className:"fas fa-search"})))))},L=(r(141),r(99)),I=r.n(L),x=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userLogin})),r=Object(i.c)((function(e){return e.cart})),o=t.userInfo,c=r.cartItems,l=Object(a.useState)(!1),h=Object(m.a)(l,2),y=h[0],g=h[1],v=Object(a.useState)(!1),b=Object(m.a)(v,2),S=b[0],O=b[1],R=Object(a.useState)(0),w=Object(m.a)(R,2),_=w[0],L=w[1];Object(a.useEffect)((function(){L(c.reduce((function(e,t){return e+t.qty}),0))}),[c]);var x=function(){e((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("redirectLogin"),localStorage.removeItem("cartItems"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"ORDER_CREATE_RESET"}),e({type:"ORDER_USER_LIST_RESET"})})),window.location.href="/"};return n.a.createElement("header",null,n.a.createElement("section",{className:"navbar-dropdown-cover",style:{display:window.innerHeight>430&&(y||S)?"block":"none",minWidth:"100%",height:"100%",zIndex:"100",position:"absolute"},onClick:function(){g(!1),O(!1)}}),n.a.createElement(d.a,{bg:"primary",variant:"dark",expand:"lg"},n.a.createElement(u.a,null,n.a.createElement(p.LinkContainer,{to:"/"},n.a.createElement(d.a.Brand,null,n.a.createElement("img",{src:I.a,className:"nav-logo",alt:"logo"}))),n.a.createElement(s.d,{render:function(e){var t=e.history;return n.a.createElement("div",{className:"d-none d-md-block"},n.a.createElement(j,{history:t}))}}),n.a.createElement(f.a,{className:"ms-auto nav-mobile",style:o?{justifyContent:"space-between"}:{justifyContent:"space-evenly"}},o&&o.isAdmin&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/userlist"},n.a.createElement(f.a.Link,null,n.a.createElement("i",{className:"fas fa-users"}))),n.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/orderlist"},n.a.createElement(f.a.Link,null,n.a.createElement("i",{className:"fas fa-user-shield"}))),n.a.createElement(p.LinkContainer,{className:"d-block d-md-none",to:"/admin/productlist"},n.a.createElement(f.a.Link,null,n.a.createElement("i",{className:"fas fa-shopping-bag"})))),n.a.createElement(p.LinkContainer,{to:"/cart"},n.a.createElement(f.a.Link,null,_?n.a.createElement("div",{className:"nav-cart-size"},n.a.createElement("span",{style:_>10?{fontSize:"0.6em"}:{fontSize:"0.7em"}},_)):"",n.a.createElement("i",{className:"fas fa-shopping-cart navbar-icons"})," ",!o||!o.isAdmin||window.innerWidth>=430?"Cart":"")),o&&o.isAdmin&&n.a.createElement(E.a,{className:"d-none d-md-block",title:"Admin",id:"adminMenu",show:S,onClick:function(e){S?O(!1):(O(!0),g(!1))}},n.a.createElement(p.LinkContainer,{to:"/admin/userlist"},n.a.createElement(E.a.Item,null,"Users")),n.a.createElement(p.LinkContainer,{to:"/admin/productlist"},n.a.createElement(E.a.Item,null,"Products")),n.a.createElement(p.LinkContainer,{to:"/admin/orderlist"},n.a.createElement(E.a.Item,null,"Orders"))),o&&n.a.createElement(f.a.Link,{className:"d-block d-md-none",onClick:x},n.a.createElement("i",{className:"fas fa-sign-out-alt navbar-icons"})," ",!(o&&o.isAdmin)&&"Logout"),o?n.a.createElement("div",{className:"nav-avatar-container"},n.a.createElement(p.LinkContainer,{to:"/profile",className:"d-block d-md-none"},n.a.createElement(f.a.Link,null,n.a.createElement("img",{src:o.avatar,className:"nav-avatar",alt:o.name}))),n.a.createElement("img",{src:o.avatar,className:"nav-avatar d-none d-md-block",alt:o.name}),n.a.createElement(E.a,{className:"d-none d-md-block",title:o.name,id:o.id,show:y,onClick:function(e){y?g(!1):(g(!0),O(!1))}},n.a.createElement(p.LinkContainer,{to:"/profile"},n.a.createElement(E.a.Item,null,"Profile")),n.a.createElement(E.a.Item,{onClick:x},"Logout"))):n.a.createElement(p.LinkContainer,{to:"/login",variant:"primary"},n.a.createElement(f.a.Link,null,n.a.createElement("i",{className:"fas fa-user navbar-icons"})," Sign In"))))))},C=(r(144),function(){return n.a.createElement("footer",{className:"footer-container"},n.a.createElement("div",{class:"social_profile"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"#"},n.a.createElement("i",{class:"fab fa-facebook-f"}))),n.a.createElement("li",null,n.a.createElement("a",{href:"#"},n.a.createElement("i",{class:"fab fa-google-plus-g"}))),n.a.createElement("li",null,n.a.createElement("a",{href:"#"},n.a.createElement("i",{class:"fab fa-instagram"}))))),n.a.createElement("div",{className:"footer-copyright"},"\xa9 ",(new Date).getFullYear()," Facon"))}),T=r(15),N=function(e){var t=e.value,r=e.text,a=e.color;return n.a.createElement("div",{className:"rating"},[1,2,3,4,5].map((function(e,r){return n.a.createElement("span",{key:r},n.a.createElement("i",{style:{color:a,fontSize:"0.9em"},className:t>=e?"fas fa-star":t>=e-.5?"fas fa-star-half-alt":"far fa-star",title:"".concat(t," Stars")}))})),n.a.createElement("span",{style:{fontSize:"0.9em"}},r&&r))};N.defaultProps={color:"#f8e825"};var k=N,U=r(196),D=(r(145),function(e){var t=e.product;return n.a.createElement(U.a,{className:"mt-3 p-0"},n.a.createElement(l.Link,{to:"/product/".concat(t._id)},n.a.createElement(U.a.Img,{loading:"lazy",className:"product-image",src:t.image,variant:"top",alt:t.name})),n.a.createElement(U.a.Body,null,n.a.createElement(l.Link,{to:"/product/".concat(t._id),style:{color:"dimgray",textDecoration:"none"}},n.a.createElement(U.a.Title,{className:"product-title",as:"p"},n.a.createElement("strong",null,t.name))),n.a.createElement(U.a.Text,{as:"div"},t&&t.rating&&n.a.createElement(k,{value:t.rating,text:"".concat(t.numReviews," Review").concat(t.numReviews>1?"s":"")})),n.a.createElement(U.a.Text,{as:"h4"},t.price&&t.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))}),A=r(198),P=function(e){var t=e.pages,r=e.page,a=e.isAdmin,o=void 0!==a&&a,c=e.keyword,i=void 0===c?"":c,l=e.forOrders,s=void 0!==l&&l,u=e.forUsers,m=void 0!==u&&u;return t>1&&n.a.createElement(A.a,null,Object(T.a)(Array(t).keys()).map((function(e){return n.a.createElement(p.LinkContainer,{key:e+1,to:o?s?"/admin/orderlist/".concat(e+1):m?"/admin/userlist/".concat(e+1):"/admin/productlist/".concat(e+1):i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1)},n.a.createElement(A.a.Item,{active:e+1===Number(r)},e+1))})))},F=r(188),G=r(98),z=r(195),M=r(101),Q=r(187),Y=r(186),V=function(e){var t=e.variant,r=e.duration,o=e.children,c=Object(a.useState)(!0),i=Object(m.a)(c,2),l=i[0],s=i[1];return Object(a.useEffect)((function(){s(!0)}),[]),Object(a.useEffect)((function(){r&&setTimeout((function(){return s(!1)}),1e3*r)}),[r]),n.a.createElement(Y.a,{onClose:function(){return s(!1)},className:"alert-custom",style:l?{display:"block"}:{display:"none"},variant:t},o)};V.defaultProps={variant:"info",dismissible:!1};var B=V;function q(){q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var a=Object(y.a)(q().mark((function a(n){var o,c;return q().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,v.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(r));case 4:o=a.sent,c=o.data,n({type:"PRODUCT_LIST_SUCCESS",payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAILURE",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(y.a)(q().mark((function t(r){var a,n;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/products/".concat(e));case 4:a=t.sent,n=a.data,r({type:"PRODUCT_DETAILS_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"PRODUCT_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},W=(r(146),r(147),function(e){var t=e.type,r="skeleton ".concat(t);return n.a.createElement("div",{className:r})}),X=function(){return n.a.createElement("div",{className:"shimmer-wrapper"},n.a.createElement("div",{className:"shimmer"}))},K=function(){return n.a.createElement("div",{style:{position:"relative",overflow:"hidden"}},n.a.createElement(W,{type:"box"}),n.a.createElement(X,null))},Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.productTopRated})),r=t.error,o=t.loading,c=t.products;return Object(a.useEffect)((function(){e(function(){var e=Object(y.a)(q().mark((function e(t){var r,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_RATED_REQUEST"}),e.next=4,v.a.get("/api/products/top");case 4:r=e.sent,a=r.data,t({type:"PRODUCT_TOP_RATED_SUCCESS",payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_RATED_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n.a.createElement(n.a.Fragment,null,o&&n.a.createElement(K,null),r&&n.a.createElement(B,{variant:"danger"},r),n.a.createElement(z.a,{style:{marginTop:"0.5em"},pause:"hover",className:"bg-primary",indicators:!1,interval:1e4},c&&c.map((function(e){return n.a.createElement(M.a,{key:e._id},n.a.createElement(l.Link,{to:"/product/".concat(e._id)},n.a.createElement(Q.a,{src:e.image,alt:e.name,fluid:!0}),n.a.createElement(z.a.Caption,{className:"carousel-caption"},e.name," (",e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),")")))}))))},$=r(76),ee=function(e){var t=e.title,r=e.description,a=e.keywords;return n.a.createElement($.a,null,n.a.createElement("title",null,t),n.a.createElement("meta",{name:"description",content:r}),n.a.createElement("meta",{name:"keywords",content:a}))};ee.defaultProps={title:"Welcome to Facon",keywords:"Shoe, Clothing, Electronics, Accessories",description:"Buy the best products at the lowest prices"};var te=ee,re=function(){return n.a.createElement("div",{className:"skeleton-product-wrapper"},n.a.createElement(W,{type:"box"}),n.a.createElement(W,{type:"text"}),n.a.createElement(W,{type:"text"}),n.a.createElement(X,null))},ae=r(108),ne=[{value:"All",label:"All"},{value:"Electronics",label:"Electronics"},{value:"Shoes",label:"Shoes"}],oe=function(e){var t=e.match,r=e.history,o=t.params.keyword,c=Number(t.params.pageNumber)||1,s=Object(a.useState)(!1),u=Object(m.a)(s,2),p=u[0],d=u[1],f=Object(a.useState)(null),E=Object(m.a)(f,2),h=E[0],y=E[1],g=Object(a.useState)(!1),v=Object(m.a)(g,2),b=v[0],R=v[1],w=Object(i.b)(),_=Object(a.useState)(ne[0]),L=Object(m.a)(_,2),I=L[0],x=L[1],C=Object(a.useState)(null),N=Object(m.a)(C,2),k=N[0],U=N[1],A=Object(i.c)((function(e){return e.productList})),z=A.loading,M=A.error,Q=A.pages,Y=Object(i.c)((function(e){return e.userLogin})).userInfo,V=Object(i.c)((function(e){return e.userDetails})).error;return Object(a.useEffect)((function(){Y&&Y.isSocialLogin?w(O(Y.id)):w(O("profile"))}),[Y,w]),Object(a.useEffect)((function(){if(V&&Y&&!Y.isSocialLogin){var e=JSON.parse(localStorage.getItem("userInfo"));w(S(null===e||void 0===e?void 0:e.email))}}),[V,w,Y]),Object(a.useEffect)((function(){h&&(h.length?R(!0):R(!1))}),[h]),Object(a.useEffect)((function(){A&&A.products&&y(Object(T.a)(A.products))}),[A]),Object(a.useEffect)((function(){w(H(o,c))}),[w,o,c]),Object(a.useEffect)((function(){d("true"===localStorage.getItem("promptEmailVerfication"))}),[]),Object(a.useEffect)((function(){"By Price"===I.value&&U(h.sort((function(e,t){return e.price-t.price})))}),[I,h]),Object(a.useEffect)((function(){"All"===I.value?U(h):"Electronics"===I.value?U(h&&h.filter((function(e){return"Electronics"===e.category}))):"Shoes"===I.value&&U(h&&h.filter((function(e){return"Shoes"===e.category})))}),[I,h]),n.a.createElement(n.a.Fragment,null,n.a.createElement(te,null),o?n.a.createElement(l.Link,{className:"btn btn-outline btn-outline-primary my-2",to:"/"},"Go Back"):window.innerWidth>430&&n.a.createElement(Z,null),n.a.createElement("div",{className:"d-block d-md-none"},n.a.createElement(j,{history:r})),p?n.a.createElement(B,{variant:"info",duration:10},"Account Created! Please check your email to verify your account and start shopping."):null,M?n.a.createElement(B,{variant:"danger",duration:10},M):!z&&h?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"mt-2",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},n.a.createElement("h2",null,"All Products"),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px",width:"50%"}},"Filter Products",n.a.createElement(ae.a,{defaultValue:I,onChange:x,options:ne,className:"w-75"}))),I!==ne[0].label?n.a.createElement(F.a,null,k&&k.map((function(e){return n.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e._id},n.a.createElement(D,{product:e}))}))):n.a.createElement(F.a,null,h.length?h.map((function(e){return n.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e._id},n.a.createElement(D,{product:e}))})):o&&!b&&n.a.createElement(G.a,{className:"text-center"},n.a.createElement("div",null,n.a.createElement("i",{className:"far fa-frown"})," No items found for this search query"),"Go Back to the ",n.a.createElement(l.Link,{to:"/"},"Home Page"))),n.a.createElement(P,{className:"mt-auto text-center",page:c,keyword:o||"",pages:Q})):z&&h&&0===h.length&&n.a.createElement(F.a,null,[1,2,3,4].map((function(e){return n.a.createElement(G.a,{sm:12,md:6,lg:4,xl:3,key:e},n.a.createElement("div",null,n.a.createElement(re,null)))}))))},ce=r(48),ie=r(199),le=r(100),se=r(18),ue=function(e){var t=e.src,r=e.alt,o=e.title,c=e.width,i=e.height,l=e.magnifierHeight,s=void 0===l?200:l,u=e.magnifieWidth,p=void 0===u?200:u,d=e.zoomLevel,f=void 0===d?1.5:d,E=Object(a.useState)([0,0]),h=Object(m.a)(E,2),y=Object(m.a)(h[0],2),g=y[0],v=y[1],b=h[1],S=Object(a.useState)([0,0]),O=Object(m.a)(S,2),R=Object(m.a)(O[0],2),w=R[0],_=R[1],j=O[1],L=Object(a.useState)(!1),I=Object(m.a)(L,2),x=I[0],C=I[1];return n.a.createElement("div",{style:{position:"relative",height:i,width:c}},n.a.createElement(Q.a,{className:"product-image",src:t,style:{height:i,width:c},fluid:!0,title:o,onMouseEnter:function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.width,a=t.height;j([r,a]),C(!0)},onMouseMove:function(e){var t=e.currentTarget.getBoundingClientRect(),r=t.top,a=t.left,n=e.pageX-a-window.pageXOffset,o=e.pageY-r-window.pageYOffset;b([n,o])},onMouseLeave:function(){C(!1)},alt:r}),n.a.createElement("div",{style:{display:x?"":"none",position:"absolute",pointerEvents:"none",height:"".concat(s,"px"),width:"".concat(p,"px"),top:"".concat(v-s/2.5,"px"),left:"".concat(g-p/2.5,"px"),opacity:"1",border:"1px solid lightgray",backgroundColor:"white",backgroundImage:"url('".concat(t,"')"),backgroundRepeat:"no-repeat",borderRadius:"50%",backgroundSize:"".concat(w*f,"px ").concat(_*f,"px"),backgroundPositionX:"".concat(-g*f+p/2,"px"),backgroundPositionY:"".concat(-v*f+s/2,"px")}}))},me=r(189),pe=(r(171),function(){return n.a.createElement(me.a,{animation:"border",role:"status",variant:"primary",className:"loader"})});function de(){de=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var fe=function(e,t){return function(){var r=Object(y.a)(de().mark((function r(a,n){var o,c,i,l,s;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"ORDER_PAY_REQUEST"}),o=n(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},r.next=6,v.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:l=r.sent,s=l.data,a({type:"ORDER_PAY_SUCCESS",payload:s}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:"ORDER_PAY_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},Ee=function(e,t){return function(){var r=Object(y.a)(de().mark((function r(a,n){var o,c,i,l,s;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"ORDER_UPDATE_REQUEST"}),o=n(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},r.next=6,v.a.put("/api/orders/".concat(e,"/return"),t,i);case 6:l=r.sent,s=l.data,a({type:"ORDER_UPDATE_SUCCESS",payload:s}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:"ORDER_UPDATE_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},he=function(){return function(){var e=Object(y.a)(de().mark((function e(t,r){var a,n,o,c,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_USER_LIST_REQUEST"}),a=r(),n=a.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.accessToken)}},e.next=6,v.a.get("/api/orders/myorders",o);case 6:c=e.sent,i=c.data,t({type:"ORDER_USER_LIST_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_USER_LIST_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},ye=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={year:"numeric",month:"short",day:"numeric"},a=new Date(e).toLocaleTimeString("en",{timeStyle:"short",hour12:!0,timeZone:"IST"}),n="";return t&&(n+="".concat(a," ")),n+new Date(e).toLocaleDateString("en",r)},ge=(r(172),function(e){var t=e.history,r=e.match,o=Object(a.useState)(1),c=Object(m.a)(o,2),s=c[0],u=c[1],p=Object(a.useState)(0),d=Object(m.a)(p,2),f=d[0],E=d[1],h=Object(a.useState)(6),g=Object(m.a)(h,2),b=g[0],R=g[1],_=Object(a.useState)(""),j=Object(m.a)(_,2),L=j[0],I=j[1],x=Object(a.useState)([]),C=Object(m.a)(x,2),N=C[0],D=C[1],A=Object(a.useState)(!1),P=Object(m.a)(A,2),z=P[0],M=P[1],Q=Object(a.useState)(!1),Y=Object(m.a)(Q,2),V=Y[0],H=Y[1],W=Object(i.b)(),X=Object(i.c)((function(e){return e.userLogin})).userInfo,K=Object(i.c)((function(e){return e.productDetails})),Z=(K.loading,K.product),$=K.error,ee=Object(i.c)((function(e){return e.userDetails})).error,re=Object(i.c)((function(e){return e.productCreateReview})),ae=re.loading,ne=re.success,oe=re.error,me=Object(i.c)((function(e){return e.orderListUser})).orders,de=[{id:1,size:"6"},{id:2,size:"7"},{id:3,size:"8"},{id:4,size:"9"},{id:5,size:"10"}];Object(a.useEffect)((function(){X&&W(O("profile"))}),[X,W]),Object(a.useEffect)((function(){if(ee&&X){var e=JSON.parse(localStorage.getItem("userInfo"));e&&W(S(e.email))}}),[ee,W,X]),Object(a.useEffect)((function(){W(he())}),[W]),Object(a.useEffect)((function(){ne&&(window.alert("Review Submitted!!"),E(0),I(""),W({type:"PRODUCT_CREATE_REVIEW_RESET"})),W(J(r.params.id))}),[r,W,ne]),Object(a.useEffect)((function(){if(Z&&Z.reviews&&X){var e,t=0,r=Object(ce.a)(Z.reviews);try{for(r.s();!(e=r.n()).done;){if(e.value.user===X.id){t=1;break}}}catch(a){r.e(a)}finally{r.f()}H(!t)}else H(!0)}),[Z,X]),Object(a.useEffect)((function(){if(me&&me.length){var e,t=0,a=Object(ce.a)(me);try{for(a.s();!(e=a.n()).done;){var n,o=e.value,c=Object(ce.a)(o.orderItems);try{for(c.s();!(n=c.n()).done;){if(n.value.product.toString()===r.params.id){t=1;break}}}catch(i){c.e(i)}finally{c.f()}}}catch(i){a.e(i)}finally{a.f()}M(!!t)}else M(!1)}),[me]),Object(a.useEffect)((function(){if(Z&&Z.reviews){var e=Z.reviews.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));D(e)}}),[Z]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Link,{className:"btn btn-outline-primary my-2",to:"/"},"Go Back"),!Z||Z._id&&Z._id===r.params.id?$?n.a.createElement(B,{variant:"danger",duration:10},$):Z?n.a.createElement(n.a.Fragment,null,n.a.createElement(te,{title:"".concat(Z.name)}),n.a.createElement(F.a,null,n.a.createElement(G.a,{md:6},n.a.createElement(ue,{src:Z.image,alt:Z.name,title:Z.name})),n.a.createElement(G.a,{md:3},n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement("h3",null,Z.name)),n.a.createElement(ie.a.Item,null,Z&&Z.rating&&n.a.createElement(k,{value:Z.rating,text:"".concat(Z.numReviews," Review").concat(Z.numReviews>1?"s":"")})),n.a.createElement(ie.a.Item,null,n.a.createElement("strong",null,"Price: "),Z.price&&Z.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),n.a.createElement(ie.a.Item,null,n.a.createElement("strong",null,"Description:")," ",Z.description),n.a.createElement(ie.a.Item,null,"Electronics"!=Z.category&&n.a.createElement(n.a.Fragment,null,n.a.createElement("strong",null,"Selected Size:")," ",b||"Select a size",n.a.createElement("br",null),de&&de.map((function(e){return n.a.createElement(le.a,{key:e.id,variant:"outline-primary",className:"btn-sm m-1",value:e.size,onClick:function(e){return R(e.target.value)}},e.size)})))))),n.a.createElement(G.a,{md:3},n.a.createElement(U.a,null,n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Price: ")),n.a.createElement(G.a,null,Z.price&&Z.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))),n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Status: ")),n.a.createElement(G.a,null,Z.countInStock>0?"In Stock":"Out of Stock"))),Z.countInStock>0&&n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Qty:")),n.a.createElement(G.a,null,n.a.createElement(w.a.Control,{as:"select",value:s,onChange:function(e){return u(e.target.value)}},Object(T.a)(Array(Z.countInStock).keys()).map((function(e){return n.a.createElement("option",{key:e+1,value:e+1},e+1)})))))),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(le.a,{onClick:function(e){t.push("/cart/".concat(r.params.id,"?qty=").concat(s,"&size=").concat(b))},type:"button",className:"btn-block btn-md",disabled:Z.countInStock<=0},"Add To Cart"))))))),n.a.createElement(F.a,null,n.a.createElement(G.a,{md:6},n.a.createElement("h2",{className:"mt-3"},"Reviews"),(!Z.reviews||!Z.reviews.length)&&n.a.createElement(B,{variant:"secondary"},"No Reviews Yet"),n.a.createElement(ie.a,{variant:"flush"},N.map((function(e){return n.a.createElement(ie.a.Item,{key:e._id},n.a.createElement("div",null,n.a.createElement("img",{src:e.avatar,alt:e.name,className:"review-avatar"}),n.a.createElement("strong",null,e.name)),n.a.createElement(k,{value:e.rating}),n.a.createElement("p",{style:{margin:"0",fontSize:"1.1em"}},e.review),n.a.createElement("small",{style:{fontSize:"0.9em"}},ye(e.createdAt,!1)))})),z&&!V&&n.a.createElement(B,null,"You have already reviewed this product"),z&&V&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Write a Customer Review"),oe&&n.a.createElement(B,{variant:"info",duration:10},oe),ae&&n.a.createElement(pe,null),n.a.createElement(w.a,{onSubmit:function(e){var t,a;e.preventDefault(),W((t=r.params.id,a={rating:f,comment:L},function(){var e=Object(y.a)(q().mark((function e(r,n){var o,c,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),o=n(),c=o.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},e.next=6,v.a.post("/api/products/".concat(t,"/reviews"),a,i);case 6:r({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:"PRODUCT_CREATE_REVIEW_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))}},n.a.createElement(w.a.Group,{controlId:"rating"},n.a.createElement(w.a.Control,{as:"select",value:f,onChange:function(e){return E(e.target.value)}},n.a.createElement("option",{default:!0},"Choose Rating"),n.a.createElement("option",{value:"1"},"1 - Bad"),n.a.createElement("option",{value:"2"},"2 - Poor"),n.a.createElement("option",{value:"3"},"3 - Fair"),n.a.createElement("option",{value:"4"},"4 - Good"),n.a.createElement("option",{value:"5"},"5 - Excellent"))),n.a.createElement(w.a.Group,{controlId:"comment"},n.a.createElement(se.a,{controlId:"commenttext",label:"Comment",className:"my-3"},n.a.createElement(w.a.Control,{as:"textarea",placeholder:"Leave a comment here",row:"3",onChange:function(e){return I(e.target.value)},value:L}))),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"submit"},"Submit Review")))))))):"":n.a.createElement(pe,null))}),ve=r(190);function be(){be=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Se=function(e,t,r){return function(){var a=Object(y.a)(be().mark((function a(n,o){var c,i;return be().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.get("/api/products/".concat(e));case 3:c=a.sent,i=c.data,n({type:"CART_ADD_ITEM",payload:{product:i._id,name:i.name,image:i.image,price:i.price,countInStock:i.countInStock,qty:t,size:r}}),localStorage.setItem("cartItems",JSON.stringify(o().cart.cartItems)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(y.a)(be().mark((function t(r){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"CART_SAVE_PAYMENT_METHOD",payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){var t=e.match,r=e.location,o=e.history,c=Object(a.useState)(0),s=Object(m.a)(c,2),u=s[0],p=s[1],d=t.params.id,f=new URLSearchParams(r.search),E=f.get("qty"),h=f.get("size"),g=Object(i.b)(),v=Object(i.c)((function(e){return e.cart})).cartItems,b=Object(i.c)((function(e){return e.userLogin})).userInfo,R=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){b&&g(O("profile"))}),[b,g]),Object(a.useEffect)((function(){v&&p(v.reduce((function(e,t){return e+t.qty}),0))}),[v]),Object(a.useEffect)((function(){if(R&&b){var e=JSON.parse(localStorage.getItem("userInfo"));e&&g(S(e.email))}}),[R,g,b]),Object(a.useEffect)((function(){d&&g(Se(d,E,h))}),[g,d,E,h]);var w=function(e){g(function(e){return function(){var t=Object(y.a)(be().mark((function t(r,a){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}catch(R){console.log(R)}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(F.a,null,n.a.createElement(te,{title:"My Cart | Facon"}),n.a.createElement(G.a,{md:8},n.a.createElement("h1",null,"Shopping Cart."),v.length?n.a.createElement(ie.a,{variant:"flush"},v.map((function(e){return n.a.createElement(ie.a.Item,{key:e.product},n.a.createElement(F.a,{style:{display:"flex",alignItems:"center"}},n.a.createElement(G.a,{md:2},n.a.createElement(Q.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(G.a,{md:4},n.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),n.a.createElement(G.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-evenly"}},e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),n.a.createElement("div",null,n.a.createElement("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty)),n.a.createElement(G.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement(ve.a,{"aria-label":"Addtocart"},n.a.createElement(le.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:function(){g(Se(e.product,Number(e.qty+1)))},variant:"primary"},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement(le.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:function(){g(Se(e.product,Number(e.qty-1)))}},n.a.createElement("i",{className:"fas fa-minus"}))),n.a.createElement(le.a,{type:"button",onClick:function(){return w(e.product)}},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement(G.a,{className:"d-flex d-md-none mt-2",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement("div",{className:"d-flex",style:{fontSize:"1.2em",width:"50%"}},e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),n.a.createElement("div",{className:"ms-1"},n.a.createElement("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty)),n.a.createElement("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"space-between",width:"50%"}},n.a.createElement(le.a,{type:"button",onClick:function(){return w(e.product)}},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement(le.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:function(){g(Se(e.product,Number(e.qty+1)))},variant:"primary"},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement(le.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:function(){g(Se(e.product,Number(e.qty-1)))}},n.a.createElement("i",{className:"fas fa-minus"}))))))}))):n.a.createElement(B,null,"Your Cart is empty. ",n.a.createElement(l.Link,{to:"/"},"Go Back.")," ")),n.a.createElement(G.a,{md:4,className:"mt-3"},n.a.createElement(ie.a,null,n.a.createElement(U.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement("h2",{className:"text-center"},"Subtotal (",u,") Item",u>1&&"s"),n.a.createElement("strong",null,v.reduce((function(e,t){return e+t.qty*t.price}),0).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))),n.a.createElement(ie.a.Item,null,n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"button",size:"md",disabled:!v.length,onClick:function(e){o.push("/login?redirect=shipping")}},"Proceed to checkout")))))))},we=function(e){var t=e.children;return n.a.createElement(u.a,null,n.a.createElement(F.a,{className:"justify-content-md-center"},n.a.createElement(G.a,{xs:12,md:6},t)))},_e=function(e){var t=e.location,r=e.history,o=Object(a.useState)(""),c=Object(m.a)(o,2),s=c[0],u=c[1],p=Object(a.useState)(""),d=Object(m.a)(p,2),f=d[0],E=d[1],g=Object(i.b)(),S=Object(i.c)((function(e){return e.userLogin})),O=S.loading,R=S.error,_=S.userInfo,j=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){_&&r.push(j)}),[r,_,j]);return n.a.createElement(we,null,n.a.createElement("h1",null,"Sign In"),R&&n.a.createElement(B,{variant:"danger"},R),O&&n.a.createElement(pe,null),n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var r=Object(y.a)(b().mark((function r(a){var n,o,c;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"USER_LOGIN_REQUEST"}),n={headers:{"Content-Type":"application/json"}},r.next=5,v.a.post("/api/users/login",{email:e,password:t},n);case 5:o=r.sent,c=o.data,a({type:"USER_LOGIN_SUCCESS",payload:Object(h.a)({},c)}),a({type:"USER_LOGIN_REFRESH_SUCCESS",payload:c.refreshToken}),localStorage.setItem("refreshToken",c.refreshToken),localStorage.setItem("userInfo",JSON.stringify(Object(h.a)({},c))),localStorage.removeItem("promptEmailVerfication"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),a({type:"USER_LOGIN_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}()}(s,f))}},n.a.createElement(w.a.Group,{controlId:"email"},n.a.createElement(w.a.Label,null,"Email Address"),n.a.createElement(w.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return u(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"password"},n.a.createElement(w.a.Label,null,"Password"),n.a.createElement(w.a.Control,{type:"password",placeholder:"Enter password",value:f,onChange:function(e){return E(e.target.value)}})),n.a.createElement(le.a,{type:"submit",variant:"primary",className:"my-2"},"Sign In")),n.a.createElement(F.a,{className:"py-3"},n.a.createElement(G.a,null,"New Customer?"," ",n.a.createElement(l.Link,{to:j?"/register?redirect=".concat(j):"/register"},"Register"))))},je=function(e){var t=e.location,r=e.history,o=Object(a.useState)(""),c=Object(m.a)(o,2),s=c[0],u=c[1],p=Object(a.useState)(""),d=Object(m.a)(p,2),f=d[0],E=d[1],h=Object(a.useState)(""),g=Object(m.a)(h,2),S=g[0],O=g[1],R=Object(a.useState)(""),_=Object(m.a)(R,2),j=_[0],L=_[1],I=Object(a.useState)(null),x=Object(m.a)(I,2),C=x[0],T=x[1],N=Object(i.b)(),k=Object(i.c)((function(e){return e.userRegister})),U=k.loading,D=k.error,A=k.userInfo,P=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){A&&r.push(P)}),[r,A,P]);return n.a.createElement(we,null,n.a.createElement("h1",null,"Sign Up"),C&&n.a.createElement(B,{variant:"danger"},C),D&&n.a.createElement(B,{variant:"danger"},D),U&&n.a.createElement(pe,null),n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),S!==j?T("Passwords do not match"):N(function(e,t,r){return function(){var a=Object(y.a)(b().mark((function a(n){var o,c,i;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_REGISTER_REQUEST"}),o={headers:{"Content-Type":"application/json"}},a.next=5,v.a.post("/api/users/",{name:e,email:t,password:r},o);case 5:c=a.sent,i=c.data,n({type:"USER_REGISTER_SUCCESS",payload:i}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:"USER_REGISTER_FAILURE",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(s,f,S))}},n.a.createElement(w.a.Group,{controlId:"name"},n.a.createElement(w.a.Label,null,"Name"),n.a.createElement(w.a.Control,{type:"name",placeholder:"Enter name",value:s,onChange:function(e){return u(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"email"},n.a.createElement(w.a.Label,null,"Email Address"),n.a.createElement(w.a.Control,{type:"email",placeholder:"Enter email",value:f,onChange:function(e){return E(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"password"},n.a.createElement(w.a.Label,null,"Password"),n.a.createElement(w.a.Control,{type:"password",placeholder:"Enter password",value:S,onChange:function(e){return O(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"confirmPassword"},n.a.createElement(w.a.Label,null,"Confirm Password"),n.a.createElement(w.a.Control,{type:"password",placeholder:"Confirm password",value:j,onChange:function(e){return L(e.target.value)}})),n.a.createElement(le.a,{type:"submit",variant:"primary",className:"my-2"},"Register")),n.a.createElement(F.a,{className:"py-3"},n.a.createElement(G.a,null,"Have an Account?"," ",n.a.createElement(l.Link,{to:P?"/login?redirect=".concat(P):"/login"},"Login"))))},Le=r(191);r(173);function Ie(){Ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var xe=function(e){var t=e.history,r=Object(a.useRef)(null),o=Object(a.useState)(!1),c=Object(m.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)("password"),f=Object(m.a)(d,2),E=f[0],h=f[1],g=Object(a.useState)("password"),j=Object(m.a)(g,2),L=j[0],I=j[1],x=Object(a.useState)(""),C=Object(m.a)(x,2),N=C[0],k=C[1],D=Object(a.useState)(""),A=Object(m.a)(D,2),P=A[0],z=A[1],M=Object(a.useState)(""),Y=Object(m.a)(M,2),V=Y[0],q=Y[1],H=Object(a.useState)(""),J=Object(m.a)(H,2),W=J[0],X=J[1],K=Object(a.useState)(""),Z=Object(m.a)(K,2),$=Z[0],ee=Z[1],re=Object(a.useState)(null),ae=Object(m.a)(re,2),ne=ae[0],oe=ae[1],ce=Object(a.useState)([]),ie=Object(m.a)(ce,2),ue=ie[0],me=ie[1],de=Object(a.useState)(!1),fe=Object(m.a)(de,2),Ee=fe[0],ge=fe[1],ve=Object(a.useState)(""),be=Object(m.a)(ve,2),Se=be[0],Oe=be[1],Re=Object(i.b)(),we=Object(i.c)((function(e){return e.userDetails})),_e=we.loading,je=we.user,xe=we.error,Ce=Object(i.c)((function(e){return e.userLogin})).userInfo,Te=Object(i.c)((function(e){return e.userProfileUpdate})).success,Ne=Object(i.c)((function(e){return e.orderListUser})),ke=Ne.loading,Ue=Ne.orders,De=Ne.error,Ae=Object(i.c)((function(e){return e.userSendEmailVerfication})),Pe=Ae.emailSent,Fe=Ae.hasError;Object(a.useEffect)((function(){if(xe&&Ce){var e=JSON.parse(localStorage.getItem("userInfo"));e&&Re(S(e.email))}}),[xe,Re,Ce]),Object(a.useEffect)((function(){Ue&&Ue.length&&me(Object(T.a)(Ue))}),[Ue]),Object(a.useEffect)((function(){Ce&&(N&&Ce.name!==N||P&&Ce.email!==P?u(!0):u(!(!W&&!$)))}),[N,P,W,$,Ce]),Object(a.useEffect)((function(){Re(he())}),[Re]),Object(a.useEffect)((function(){Ce?je&&je.name&&!Te?(k(je.name),z(je.email),q(je.avatar)):(Re(he()),Re({type:"USER_PROFILE_UPDATE_RESET"}),Ce&&Re(O("profile")),Te&&Re(O("profile"))):t.push("/login")}),[t,Ce,je,Re,Te,ke]);var Ge=function(){var e=Object(y.a)(Ie().mark((function e(t){var r,a,n,o,c;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("file",r),ge(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",a,n);case 8:o=e.sent,c=o.data,q(c.secure_url),Re(R({id:je.id,avatar:c})),ge(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),Oe("Please choose a valid image"),ge(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(F.a,{className:"mt-2"},n.a.createElement(te,{title:"My Profile | Facon"}),Ce&&!Ce.isConfirmed?n.a.createElement(n.a.Fragment,null,Pe&&n.a.createElement(B,{variant:"success",dismissible:!0},"A verification link has been sent your mail!"),Fe&&n.a.createElement(B,{variant:"danger"},Fe),n.a.createElement(U.a,{style:{margin:"0"},className:"mb-3"},n.a.createElement(U.a.Body,{className:"ps-0 "},n.a.createElement(U.a.Title,{style:{fontWeight:"bold"}},"Account Not Verified"),n.a.createElement(U.a.Text,null,"".concat(Ce.name,", ")," your account is not yet verfied. Please"," ",n.a.createElement(le.a,{variant:"link",className:"p-0",style:{fontSize:"0.9em",margin:"0 0 0.1em 0",focus:"none"},onClick:function(){return Re(function(e){return function(){var t=Object(y.a)(b().mark((function t(r){var a,n,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_EMAIL_VERIFICATION_REQUEST"}),a={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/users/confirm",{email:e},a);case 5:n=t.sent,o=n.data,r({type:"USER_EMAIL_VERIFICATION_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:"USER_EMAIL_VERIFICATION_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Ce.email))}},"click here")," ","to send a verfication email.")))):null,n.a.createElement(G.a,{md:3,style:Ce&&!Ce.isConfirmed?{opacity:"0.5",pointerEvents:"none"}:{opacity:"1",pointerEvents:""}},n.a.createElement("h2",{className:"text-center"},"My Profile"),ne&&n.a.createElement(B,{dismissible:!0,variant:"warning",duration:8},ne),xe&&"Not authorised. Token failed"!==xe&&n.a.createElement(B,{variant:"danger",duration:10},xe),Te&&n.a.createElement(B,{variant:"success",duration:8},"Profile Updated!"),_e?n.a.createElement(pe,null):n.a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap"}},Se&&n.a.createElement(B,{dismissible:!0,variant:"danger",duration:10},Se),Ee?n.a.createElement(pe,null):n.a.createElement("div",{className:"profile-page-image",style:{alignSelf:"center"}},n.a.createElement(Q.a,{src:V,alt:N,style:{height:"5em",width:"5em",marginBottom:"1em",border:"1px solid #ced4da",borderRadius:"50%",cursor:"pointer"}}),n.a.createElement("div",{className:"image-overlay",onClick:function(){r.current.click()}},"Click to upload image")),n.a.createElement("input",{type:"file",accept:"image/*",id:"file",ref:r,onChange:Ge,style:{display:"none"}}),n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),W!==$?oe("Passwords do not match. Please retry."):Re(R({id:je.id,name:N,email:P,avatar:V,password:W,confirmPassword:$}))}},n.a.createElement(w.a.Group,{controlId:"name"},n.a.createElement(se.a,{controlId:"nameinput",label:"Name"}),n.a.createElement(w.a.Control,{placeholder:"Enter Name",type:"text",value:N,onChange:function(e){return k(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"email",className:"my-2",style:Ce?{pointerEvents:"none",opacity:"0.8"}:{}},n.a.createElement(se.a,{controlId:"emailinput",label:"Email"}),n.a.createElement(w.a.Control,{placeholder:"Enter Email Address",type:"email",value:P,onChange:function(e){return z(e.target.value)}})),Ce&&n.a.createElement(n.a.Fragment,null,n.a.createElement(w.a.Group,null,n.a.createElement(se.a,{controlId:"passwordinput",label:"Password"}),n.a.createElement(_.a,{className:""},n.a.createElement(se.a,{controlId:"passwordinput",style:{display:"flex"},className:"mb-3"},n.a.createElement(w.a.Control,{type:E,placeholder:"Enter your password",value:W,style:{borderRight:"none",width:"100%"},onChange:function(e){return X(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),h("password"===E?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"}},"text"===E?n.a.createElement("i",{className:"far fa-eye-slash"}):n.a.createElement("i",{className:"far fa-eye"})))))),n.a.createElement(w.a.Group,null,n.a.createElement(se.a,{controlId:"confirmpasswordinput",label:"Confirm Password"}),n.a.createElement(_.a,{className:"d-block"},n.a.createElement(se.a,{controlId:"confirmpasswordinput",style:{display:"flex"},className:"mb-3"},n.a.createElement(w.a.Control,{type:L,placeholder:"Confirm password",value:$,style:{borderRight:"none"},onChange:function(e){return ee(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),I("password"===L?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"}},"text"===L?n.a.createElement("i",{className:"far fa-eye-slash"}):n.a.createElement("i",{className:"far fa-eye"}))))))),n.a.createElement("div",{className:"d-grid mb-3"},n.a.createElement(le.a,{type:"submit",disabled:!s,style:{padding:"0.5em 1em"}},"Update Profile"))))),n.a.createElement(G.a,{md:9,style:Ce&&!Ce.isConfirmed?{opacity:"0.5",pointerEvents:"none"}:{opacity:"1",pointerEvents:""}},ue.length?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"text-center"},"My Orders"),ke?n.a.createElement(pe,null):De?n.a.createElement(B,{variant:"danger",duration:10},De):n.a.createElement(Le.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"DATE"),n.a.createElement("th",null,"TOTAL"),n.a.createElement("th",null,"PAID"),n.a.createElement("th",null,"DELIVERED"),n.a.createElement("th",null,"ACTION"))),n.a.createElement("tbody",null,Ue.map((function(e,t){return n.a.createElement("tr",{key:t,style:{textAlign:"center",padding:"0"}},n.a.createElement("td",null,ye(e.createdAt)),n.a.createElement("td",null,e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:0,style:"currency",currency:"INR"})),n.a.createElement("td",null,e.isPaid?ye(e.paidAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?ye(e.deliveredAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(p.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(le.a,{variant:"link",className:"btn-sm",style:{margin:"0"}},"Details"))))}))))):n.a.createElement(U.a,{style:{border:"none",margin:"0 auto"}},n.a.createElement(U.a.Body,null,n.a.createElement(U.a.Title,null,"No Orders Yet!"),n.a.createElement(U.a.Text,null,"Details about all your orders will show up here."," ",n.a.createElement(l.Link,{to:"/"},"Continue Shopping"))))))},Ce=function(e){var t=e.match,r=e.history,o=Object(i.b)(),c=Object(i.c)((function(e){return e.userConfirm})),s=c.loading,u=c.error,p=c.isConfirmed,d=Object(i.c)((function(e){return e.userLogin})).userInfo,f=Object(a.useState)(!1),E=Object(m.a)(f,2),h=E[0],g=E[1];return Object(a.useEffect)((function(){g(!!d)}),[]),Object(a.useEffect)((function(){o(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r=Object(y.a)(b().mark((function r(a,n){var o,c;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"USER_CONFIRM_REQUEST"}),r.next=4,v.a.get("/api/users/confirm/".concat(e));case 4:o=r.sent,c=o.data,localStorage.removeItem("promptEmailVerfication"),a({type:"USER_CONFIRM_SUCCESS",payload:!0}),t&&(a({type:"USER_LOGIN_SUCCESS",payload:c}),a({type:"USER_LOGIN_REFRESH_SUCCESS",payload:c.refreshToken}),localStorage.setItem("refreshToken",c.refreshToken),localStorage.setItem("userInfo",JSON.stringify(c))),localStorage.removeItem("promptEmailVerfication"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),a({type:"USER_CONFIRM_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}(t.params.token,h))}),[o,t,h]),s||!p&&!u?n.a.createElement(pe,null):u?(setTimeout((function(){r.push("/login")}),1e4),n.a.createElement(B,{variant:"danger",duration:10},"Verfication Failed. Please try to login again.")):p?(localStorage.setItem("fillEmailOnLoginPage","true"),n.a.createElement(U.a,{style:{border:"none",margin:"0 auto"}},n.a.createElement(te,{title:"Confirm Password | Facon"}),n.a.createElement(U.a.Body,null,n.a.createElement(U.a.Title,null,"Account Confirmed"),n.a.createElement(U.a.Text,null,g?"Your account has been successfully verified! Go on and shop for the best deals of the day!":"Your account has been successfully verified! Please\n\t\t\t\t\t\tlogin and start exploring the best deals on all your\n\t\t\t\t\t\tfavorite products."),g?null:n.a.createElement(l.Link,{to:"/login"},"Login")))):void 0},Te=(r(174),function(e){var t=e.step1,r=e.step2,a=e.step3,o=e.step4;return n.a.createElement(f.a,{className:"status-bar"},n.a.createElement("div",{className:"status-checkpoint"},n.a.createElement("div",{className:"circle",style:t?{background:"#2c3e50"}:{background:""}}),t?n.a.createElement(p.LinkContainer,{to:"/login"},n.a.createElement(f.a.Link,null,"Sign In")):n.a.createElement(f.a.Link,{disabled:!0},"Sign In")),n.a.createElement("div",{className:"connection"}),n.a.createElement("div",{className:"status-checkpoint"},n.a.createElement("div",{className:"circle",style:t&&r?{background:"#2c3e50"}:{background:""}}),r?n.a.createElement(p.LinkContainer,{to:"/shipping"},n.a.createElement(f.a.Link,null,"Shipping")):n.a.createElement(f.a.Link,{disabled:!0},"Shipping")),n.a.createElement("div",{className:"connection"}),n.a.createElement("div",{className:"status-checkpoint"},n.a.createElement("div",{className:"circle",style:t&&r&&a?{background:"#2c3e50"}:{background:""}}),a?n.a.createElement(p.LinkContainer,{to:"/payment"},n.a.createElement(f.a.Link,null,"Payment")):n.a.createElement(f.a.Link,{disabled:!0},"Payment")),n.a.createElement("div",{className:"connection"}),n.a.createElement("div",{className:"status-checkpoint"},n.a.createElement("div",{className:"circle",style:t&&r&&a&&o?{background:"#2c3e50"}:{background:""}}),o?n.a.createElement(p.LinkContainer,{to:"/placeorder"},n.a.createElement(f.a.Link,null,"Place Order")):n.a.createElement(f.a.Link,{disabled:!0},"Place Order")))}),Ne=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})),c=o.cartItems,l=o.shippingAddress,s=Object(i.c)((function(e){return e.userLogin})).userInfo,u=Object(i.c)((function(e){return e.userDetails})).error,p=Object(a.useState)(l.phone),d=Object(m.a)(p,2),f=d[0],E=d[1],h=Object(a.useState)(l.address),g=Object(m.a)(h,2),v=g[0],b=g[1],R=Object(a.useState)(l.city),_=Object(m.a)(R,2),j=_[0],L=_[1],I=Object(a.useState)(l.postalCode),x=Object(m.a)(I,2),C=x[0],T=x[1],N=Object(a.useState)(l.country),k=Object(m.a)(N,2),U=k[0],D=k[1];Object(a.useEffect)((function(){s&&r(O("profile"))}),[s,r]),Object(a.useEffect)((function(){if(u&&s){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(S(e.email))}}),[u,r,s]),Object(a.useEffect)((function(){c.length&&s||t.push("/")}),[c,t,s]);return n.a.createElement(we,null,n.a.createElement(Te,{step1:!0,step2:!0}),n.a.createElement("h1",null,"Shipping Address"),n.a.createElement(w.a,{onSubmit:function(e){var a;e.preventDefault(),r((a={phone:f,address:v,city:j,postalCode:C,country:U},function(){var e=Object(y.a)(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))}catch(u){console.log(u)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")}},n.a.createElement(w.a.Group,{controlId:"address"},n.a.createElement(se.a,{controlId:"mobileinput",label:"Phone"}),n.a.createElement(w.a.Control,{placeholder:"Enter Your Mobile No",className:"mb-2",type:"text",value:f,required:!0,onChange:function(e){return E(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"address"},n.a.createElement(se.a,{controlId:"addressinput",label:"Address"}),n.a.createElement(w.a.Control,{placeholder:"Enter address",className:"mb-2",type:"text",value:v,required:!0,onChange:function(e){return b(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"city"},n.a.createElement(se.a,{controlId:"cityinput",label:"City"}),n.a.createElement(w.a.Control,{placeholder:"Enter City",className:"mb-2",type:"text",value:j,required:!0,onChange:function(e){return L(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"postalCode"},n.a.createElement(se.a,{controlId:"postalcodeinput",label:"Postal Code"}),n.a.createElement(w.a.Control,{placeholder:"Enter Postal Code",className:"mb-2",type:"text",value:C,required:!0,onChange:function(e){return T(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"country"},n.a.createElement(se.a,{controlId:"countryinput",label:"Country"}),n.a.createElement(w.a.Control,{placeholder:"Enter Country",className:"mb-2",type:"text",value:U,required:!0,onChange:function(e){return D(e.target.value)}})),n.a.createElement("div",{className:"d-flex"},n.a.createElement(le.a,{type:"submit",className:"ms-auto mt-2",style:{padding:"0.5em 1em",width:"8rem"}},"Continue"))))},ke=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})).shippingAddress,c=Object(a.useState)("Stripe"),l=Object(m.a)(c,2),s=l[0],u=l[1],p=Object(i.c)((function(e){return e.userLogin})).userInfo,d=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){p&&r(O("profile"))}),[p,r]),Object(a.useEffect)((function(){if(d&&p){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(S(e.email))}}),[d,r,p]),Object(a.useEffect)((function(){o||t.push("/shipping")}),[]);var f=function(e){u(e.target.value)};return n.a.createElement(we,null,n.a.createElement(Te,{step1:!0,step2:!0,step3:!0}),n.a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap",alignItems:"center"}},n.a.createElement("h1",null,"Payment Method"),n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),r(Oe(s)),t.push("/placeorder")}},n.a.createElement(w.a.Group,null,n.a.createElement(G.a,null,n.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"Stripe(Credit/Debit)",id:"Stripe",name:"paymentMethod",value:"Stripe",checked:"Stripe"===s,onChange:f})),n.a.createElement(G.a,null,n.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"Other Payment Methods",id:"other",name:"paymentMethod",value:"Other Payment Methods",checked:"Other Payment Methods"===s,onChange:f}))),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"submit",className:"my-3",size:"md"},"Continue")))))},Ue=function(e){var t=e.history,r=Object(i.b)(),o=Object(i.c)((function(e){return e.cart})),c=o.cartItems,s=o.shippingAddress,u=o.paymentMethod,m=Object(i.c)((function(e){return e.orderCreate})),p=m.order,d=m.loading,f=m.success,E=m.error,h=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){h&&r(O("profile")),r(O("profile"))}),[h,r]),Object(a.useEffect)((function(){if(g&&h){var e=JSON.parse(localStorage.getItem("userInfo"));e&&r(S(e.email))}}),[g,r,h]),Object(a.useEffect)((function(){f&&(localStorage.removeItem("cartItems"),r({type:"CART_RESET",payload:s}),t.push("/order/".concat(p._id)))}),[f,t]),o.itemsPrice=c.reduce((function(e,t){return e+t.price*t.qty}),0),o.shippingPrice=o.itemsPrice>8e3?500:300,o.totalPrice=o.itemsPrice+o.shippingPrice;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{step1:!0,step2:!0,step3:!0,step4:!0}),n.a.createElement(F.a,null,d?n.a.createElement(pe,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(G.a,{md:8},n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Address: ")," ",s.address,","," ",s.city,"-",s.postalCode,","," ",s.country),n.a.createElement("p",null,n.a.createElement("strong",null,"Phone-No: ")," ",s.phone)),n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("p",null,n.a.createElement("strong",null,"Method: ")," ",u)),n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Cart Items"),0!==c.length?n.a.createElement(ie.a,{variant:"flush"},c.map((function(e,t){return n.a.createElement(ie.a.Item,{key:t},n.a.createElement(F.a,null,n.a.createElement(G.a,{md:2},n.a.createElement(Q.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(G.a,null,n.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),n.a.createElement(G.a,{md:4},e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))))}))):n.a.createElement(B,null,"Your cart is empty")))),n.a.createElement(G.a,{md:4},n.a.createElement(U.a,null,n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,{className:"text-center"},n.a.createElement("h2",{className:"text-center"},"Order Summary")),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Subtotal")),n.a.createElement(G.a,null,Number(o.itemsPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Shipping")),n.a.createElement(G.a,null,Number(o.shippingPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Total")),n.a.createElement(G.a,null,Number(o.totalPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),E&&n.a.createElement(ie.a.Item,null,n.a.createElement(B,{variant:"danger",duration:10},E)),n.a.createElement(ie.a.Item,{className:"d-grid gap-2"},n.a.createElement(le.a,{type:"button",size:"md",disabled:!c.length,onClick:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_CREATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.post("/api/orders/",e,c);case 6:i=t.sent,l=i.data,r({type:"ORDER_CREATE_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_CREATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:c,shippingAddress:s,paymentMethod:u,itemsPrice:o.itemsPrice,shippingPrice:o.shippingPrice,totalPrice:o.totalPrice}))}},"Place Order"))))))))},De=r(51),Ae=r(104);function Pe(){Pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var Fe=function(e){var t=e.price,r=e.orderID,o=Object(a.useState)(""),c=Object(m.a)(o,2),l=c[0],s=c[1],u=Object(i.b)(),p=Object(a.useState)(""),d=Object(m.a)(p,2),f=d[0],E=d[1],g=Object(De.useStripe)(),b=Object(De.useElements)(),S=Object(i.c)((function(e){return e.userLogin})).userInfo;Object(a.useEffect)((function(){S&&t&&function(){var e=Object(y.a)(Pe().mark((function e(){var r,a;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/orders/stripe-payment",{price:t,email:S.email},{headers:{"Content-Type":"application/json"}});case 2:r=e.sent,a=r.data,E(a.clientSecret);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,S]);var O=function(){var e=Object(y.a)(Pe().mark((function e(t){var a;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g&&b){e.next=3;break}return e.abrupt("return");case 3:if(!f){e.next=10;break}return e.next=6,g.confirmCardPayment(f,{payment_method:{card:b.getElement(De.CardElement),billing_details:{name:S.name,email:S.email}}});case 6:(a=e.sent).error?s(a.error.message):(u(Oe("Stripe")),u(fe(r,Object(h.a)(Object(h.a)({},a.paymentIntent),{},{paymentMode:"stripe"})))),e.next=11;break;case 10:window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(w.a,{id:"payment-form",onSubmit:O},l&&n.a.createElement(B,{variant:"danger"},l),n.a.createElement(w.a.Group,{style:{margin:"1em 0",fontSize:"1em"}},n.a.createElement(De.CardElement,{id:"card-element"})),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{disabled:!g,size:"md",type:"submit"},"Pay Now")))};function Ge(){Ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var ze=function(e){var t=e.match,r=(e.history,Object(Ae.a)("pk_test_51MSNG4SC8hoPgr9eRR3oidu0pqhV2jBWzbTF6vpceykKdjDza6gnAy1Ic3QL9rWxnh1gxITdcChmPpjL4hWK3tGO00kNWPdPmQ")),o=Object(i.b)(),c=t.params.id,s=Object(i.c)((function(e){return e.orderDetails})),u=s.loading,p=s.order,d=s.error,f=Object(i.c)((function(e){return e.orderPay})),E=f.loading,h=f.success,g=Object(i.c)((function(e){return e.orderShipped})),b=g.loading,O=g.success,R=Object(i.c)((function(e){return e.orderDeliver})),w=R.loading,_=R.success,j=Object(i.c)((function(e){return e.orderUpdate})),L=j.loading,I=j.success,x=Object(i.c)((function(e){return e.orderReturn})),C=x.loading,T=x.success,N=Object(i.c)((function(e){return e.userLogin})).userInfo,k=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){if(k&&N){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(S(e.email))}}),[k,o,N]),Object(a.useEffect)((function(){(!p||p._id!==c||h||_||O||I||T)&&(h&&o({type:"ORDER_PAY_RESET"}),O&&o({type:"ORDER_SHIPPED_RESET"}),_&&o({type:"ORDER_DELIVER_RESET"}),I&&o({type:"ORDER_UPDATE_RESET"}),T&&o({type:"ORDER_RETURN_RESET"}),o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DETAILS_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/orders/".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"ORDER_DETAILS_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c)))}),[p,c,o,h,_,O,I,T]);var D=Object(a.useRef)(null),A=Object(a.useRef)(null),P=Object(a.useState)(null),z=Object(m.a)(P,2),M=z[0],Y=z[1],V=Object(a.useState)(null),q=Object(m.a)(V,2),H=q[0],J=q[1],W=Object(a.useState)(!1),X=Object(m.a)(W,2),K=X[0],Z=X[1],$=Object(a.useState)(!1),ee=Object(m.a)($,2),te=ee[0],re=ee[1],ae=function(){var e=Object(y.a)(Ge().mark((function e(t){var r,a,n,o,c;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),r=t.target.files[0],(a=new FormData).append("file",r),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",a,n);case 8:o=e.sent,c=o.data,re(!1),Y(c.secure_url),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(y.a)(Ge().mark((function e(t){var r,a,n,o,c;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),r=t.target.files[0],(a=new FormData).append("file",r),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",a,n);case 8:o=e.sent,c=o.data,Z(!1),J(c.secure_url),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(y.a)(Ge().mark((function e(t){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),M?o(fe(c,{paymentMode:"Online",image:M})):alert("Please upload a proof of payment");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(y.a)(Ge().mark((function e(t){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),H?o(Ee(c,{video:H})):alert("Please upload a proof of return");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?n.a.createElement(pe,null):d?n.a.createElement(B,{variant:"danger",duration:10},d):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Order ",c),n.a.createElement(F.a,null,u?n.a.createElement(pe,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(G.a,{md:8},n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Name: "),p.user.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email: "),n.a.createElement("a",{href:"mailto:".concat(p.user.email)},p.user.email)),n.a.createElement("p",null,n.a.createElement("strong",null,"Phone-No: "),p.shippingAddress.phone),n.a.createElement("p",null,n.a.createElement("strong",null,"Address: ")," ",p.shippingAddress.address,","," ",p.shippingAddress.city,"-",p.shippingAddress.postalCode,","," ",p.shippingAddress.country),n.a.createElement("div",null,p.isPaid&&p.isShipped?n.a.createElement(B,{variant:"success"},"Shipped at: ",ye(p.shippedAt)):n.a.createElement(B,{variant:"danger"},"Order Not Shipped Yet")),p.isShipped&&p.isDelivered&&n.a.createElement("div",null,p.isDelivered?n.a.createElement(B,{variant:"success"},"Delivered at: ",ye(p.deliveredAt)):n.a.createElement(B,{variant:"danger"},"Order Not Delivered Yet")),n.a.createElement("div",null,p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&n.a.createElement(B,{variant:"success"},"Return Requested at: ",ye(p.returnRequestedAt))),n.a.createElement("div",null,p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&p.isreturnConfirmed&&n.a.createElement(B,{variant:"success"},"Return Confirmed at: ",ye(p.returnConfirmedAt)))),n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("p",null,n.a.createElement("strong",null,"Method: ")," ",p.paymentMethod),n.a.createElement("div",null,p.isPaid?n.a.createElement(n.a.Fragment,null,n.a.createElement(B,{variant:"success"},"Order Confirmed and Paid at:"," ",ye(p.paidAt))):n.a.createElement(B,{variant:"danger"},"Not Paid"))),n.a.createElement(ie.a.Item,null,n.a.createElement("h2",null,"Cart Items"),0!==p.orderItems.length?n.a.createElement(ie.a,{variant:"flush"},n.a.createElement("div",{style:{background:"red"}}),p.orderItems.map((function(e,t){return n.a.createElement(ie.a.Item,{key:t},n.a.createElement(F.a,null,n.a.createElement(G.a,{md:2},n.a.createElement(Q.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(G.a,null,n.a.createElement(l.Link,{to:"/product/".concat(e.product)},e.name)),n.a.createElement(G.a,{md:4},e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}))),n.a.createElement(F.a,null,"Size Ordered: ",e.size))}))):n.a.createElement(B,null,"No order")))),n.a.createElement(G.a,{md:4},n.a.createElement(U.a,null,n.a.createElement(ie.a,{variant:"flush"},n.a.createElement(ie.a.Item,null,n.a.createElement("h2",{className:"text-center"},"Order Summary")),d&&n.a.createElement(ie.a.Item,null,n.a.createElement(B,{variant:"danger",duration:10},d)),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Subtotal")),n.a.createElement(G.a,null,p.orderItems.map((function(e,t){return(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})}))))),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Shipping")),n.a.createElement(G.a,null,p.shippingPrice&&p.shippingPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),n.a.createElement(ie.a.Item,null,n.a.createElement(F.a,null,n.a.createElement(G.a,null,n.a.createElement("strong",null,"Total")),n.a.createElement(G.a,null,p.totalPrice&&p.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})))),!p.isPaid&&"Stripe"===p.paymentMethod&&n.a.createElement(n.a.Fragment,null,n.a.createElement(ie.a.Item,null,E&&n.a.createElement(pe,null),n.a.createElement(De.Elements,{stripe:r},n.a.createElement(Fe,{price:100*p.totalPrice,orderID:c})))),!p.isPaid&&"Stripe"!==p.paymentMethod&&n.a.createElement(ie.a.Item,null,te&&n.a.createElement(pe,null),E&&n.a.createElement(pe,null),n.a.createElement("p",null,"Please Upload Your Payment ScreenShot Here to confirm your order"),n.a.createElement("input",{accept:"image/*",type:"file",id:"file",ref:D,onChange:ae}),n.a.createElement(le.a,{type:"button",variant:"primary",className:"mt-2",onClick:oe},"Upload & Confirm Payment")),p.isPaid&&p.isShipped&&p.isDelivered&&!N.isAdmin&&!p.isReturedRequested&&n.a.createElement(ie.a.Item,null,K&&n.a.createElement(pe,null),L&&n.a.createElement(pe,null),n.a.createElement("p",null,"Please Upload Your Product Video to return your order"),n.a.createElement("input",{type:"file",id:"file",ref:A,onChange:ne}),n.a.createElement(le.a,{type:"button",variant:"primary",className:"mt-2",onClick:ce},"Upload & Confirm Return")),N&&N.isAdmin&&p.isPaid&&!p.isShipped&&n.a.createElement(ie.a.Item,null,b&&n.a.createElement(pe,null),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_SHIPPED_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/orders/".concat(e,"/ship"),{},c);case 6:i=t.sent,l=i.data,r({type:"ORDER_SHIPPED_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_SHIPPED_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))}},"Mark as Shipped"))),N&&N.isAdmin&&p.isPaid&&p.isShipped&&!p.isDelivered&&n.a.createElement(ie.a.Item,null,w&&n.a.createElement(pe,null),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DELIVER_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/orders/".concat(e,"/deliver"),{},c);case 6:i=t.sent,l=i.data,r({type:"ORDER_DELIVER_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DELIVER_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))}},"Mark as Delivered"))),N&&N.isAdmin&&p.isPaid&&p.isShipped&&p.isDelivered&&p.isReturedRequested&&!p.isreturnConfirmed&&n.a.createElement(ie.a.Item,null,C&&n.a.createElement(pe,null),n.a.createElement("div",{className:"d-grid"},n.a.createElement(le.a,{type:"button",variant:"info",size:"md",onClick:function(){o(function(e){return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_RETURN_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/orders/".concat(e,"/confirm-return"),{},c);case 6:i=t.sent,l=i.data,r({type:"ORDER_RETURN_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_RETURN_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))}},"Accept Return Request")))))))))},Me=function(e){var t=e.match,r=e.history,o=Object(a.useState)(""),c=Object(m.a)(o,2),l=c[0],s=c[1],u=Object(a.useState)("password"),p=Object(m.a)(u,2),d=p[0],f=p[1],E=Object(a.useState)("password"),h=Object(m.a)(E,2),g=h[0],S=h[1],O=Object(a.useState)(null),R=Object(m.a)(O,2),j=R[0],L=R[1],I=Object(a.useState)(""),x=Object(m.a)(I,2),C=x[0],T=x[1],N=Object(a.useState)(""),k=Object(m.a)(N,2),U=k[0],D=k[1],A=Object(i.b)(),P=Object(i.c)((function(e){return e.userResetPassword})),F=P.loading,G=P.resetPassword,z=P.error;Object(a.useEffect)((function(){var e=localStorage.getItem("EcommerceUserName");e&&s(e)}),[]),Object(a.useEffect)((function(){G&&setTimeout((function(){r.push("/login")}),1e4)}),[r,G]);return n.a.createElement(we,null,n.a.createElement("h1",null,l?"".concat(l,", reset password"):"Reset Password"),j&&n.a.createElement(B,{duration:8,variant:"warning"},j),G&&n.a.createElement(B,{variant:"success",duration:8},"Password Changed Successfully."),z&&n.a.createElement(B,{variant:"danger"},z),F?n.a.createElement(pe,null):n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),U!==C?L("Passwords do not match. Please retry."):A(function(e,t){return function(){var r=Object(y.a)(b().mark((function r(a){var n,o,c;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"USER_RESET_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},r.next=5,v.a.put("/api/users/reset",{passwordToken:e,password:t},n);case 5:o=r.sent,c=o.data,a({type:"USER_RESET_PASSWORD_SUCCESS",payload:c}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a({type:"USER_RESET_PASSWORD_FAILURE",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}(t.params.token,U))},style:{width:"33em"}},n.a.createElement(w.a.Group,{className:"mb-2"},n.a.createElement(_.a,{style:{width:"100%"}},n.a.createElement(se.a,{controlId:"passwordinput",label:"Password",className:"mb-3"},n.a.createElement(w.a.Control,{size:"lg",type:d,placeholder:"Enter your password",value:U,style:{borderRight:"none",width:"205%"},onChange:function(e){return D(e.target.value)}})),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),f("password"===d?"text":"password")},style:{paddingLeft:"1em",fontSize:"1rem",width:"17.5%",height:"78%",marginLeft:"15rem",background:"transparent"}},"text"===d?n.a.createElement("i",{className:"far fa-eye-slash"}):n.a.createElement("i",{className:"far fa-eye"}))))),n.a.createElement(w.a.Group,{className:"my-2"},n.a.createElement(_.a,{style:{width:"100%"}},n.a.createElement(se.a,{controlId:"confirmpasswordinput",label:"Confirm password",className:"mb-3"},n.a.createElement(w.a.Control,{size:"lg",type:g,placeholder:"Confirm your password",value:C,style:{borderRight:"none",width:"205%"},onChange:function(e){return T(e.target.value)}})),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(_.a.Text,{onClick:function(e){e.preventDefault(),e.stopPropagation(),S("password"===g?"text":"password")},style:{paddingLeft:"1em",fontSize:"1rem",width:"17.5%",height:"78%",marginLeft:"15rem",background:"transparent"}},"text"===g?n.a.createElement("i",{className:"far fa-eye-slash"}):n.a.createElement("i",{className:"far fa-eye"}))))),n.a.createElement(le.a,{type:"submit",style:{padding:"0.5em 1em",width:"8rem"}},"Submit")))},Qe=function(e){var t=e.match,r=e.history,o=t.params.pageNumber||1,c=Object(i.b)(),l=Object(i.c)((function(e){return e.userList})),s=l.loading,u=l.users,m=l.error,d=l.page,f=l.pages,E=l.total,h=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDelete})).success,O=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){if(O&&h){var e=JSON.parse(localStorage.getItem("userInfo"));e&&c(S(e.email))}}),[O,c,h]),Object(a.useEffect)((function(){h&&h.isAdmin?c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c,i,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_LIST_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/users?pageNumber=".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"USER_LIST_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_LIST_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(o)):r.push("/login")}),[c,r,h,g,o]);var R=function(e){window.confirm("Are you sure you wanna delete user?")&&c(function(e){return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DELETE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.delete("/api/users/".concat(e),c);case 6:r({type:"USER_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"USER_DELETE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Users (","".concat(E||0),")"),s?n.a.createElement(pe,null):m?n.a.createElement(B,{variant:"danger",duration:10},m):n.a.createElement(Le.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"NAME"),n.a.createElement("th",null,"EMAIL"),n.a.createElement("th",null,"CONFIRMED"),n.a.createElement("th",null,"ADMIN"),n.a.createElement("th",null,"ACTION"))),n.a.createElement("tbody",null,u&&u.map((function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,n.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),n.a.createElement("td",null,e.isConfirmed?n.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isAdmin?n.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(p.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},n.a.createElement(le.a,{variant:"link",className:"btn-sm"},n.a.createElement("i",{className:"fas fa-edit"}))),n.a.createElement(le.a,{className:"btn-sm",variant:"danger",onClick:function(){return R(e._id)}},n.a.createElement("i",{className:"fas fa-trash"}))))})))),n.a.createElement(P,{pages:f,page:d,isAdmin:!0,forUsers:!0}))},Ye=function(e){var t=e.match,r=e.history,o=t.params.id,c=Object(a.useState)(""),s=Object(m.a)(c,2),u=s[0],p=s[1],d=Object(a.useState)(""),f=Object(m.a)(d,2),E=f[0],g=f[1],R=Object(a.useState)(!1),j=Object(m.a)(R,2),L=j[0],I=j[1],x=Object(i.b)(),C=Object(i.c)((function(e){return e.userDetails})),T=C.loading,N=C.user,k=C.error,U=Object(i.c)((function(e){return e.userUpdate})),D=U.loading,A=U.error,P=U.success,F=Object(i.c)((function(e){return e.userLogin})).userInfo;Object(a.useEffect)((function(){if(k&&F){var e=JSON.parse(localStorage.getItem("userInfo"));e&&x(S(e.email))}}),[k,x,F]),Object(a.useEffect)((function(){P?(x({type:"USER_UPDATE_RESET"}),r.push("/admin/userlist")):N&&N.name&&N._id===o?(p(N.name),g(N.email),I(N.isAdmin)):x(O(o))}),[N,x,o,P,r]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Link,{to:"/admin/userlist"},n.a.createElement(le.a,{variant:"outline-primary",className:"my-3"},"Go Back")),n.a.createElement(we,null,N&&n.a.createElement(te,{title:"Edit ".concat(N.name," | Facon")}),n.a.createElement("h1",null,"Edit User"),D?n.a.createElement(pe,null):A?n.a.createElement(B,{variant:"danger",duration:10},A):n.a.createElement(n.a.Fragment,null,T?n.a.createElement(pe,null):n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),x(function(e){return function(){var t=Object(y.a)(b().mark((function t(r,a){var n,o,c,i,l,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_UPDATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/users/".concat(e._id),e,c);case 6:i=t.sent,l=i.data,r({type:"USER_UPDATE_SUCCESS"}),r({type:"USER_DETAILS_SUCCESS",payload:Object(h.a)({},l)}),l.id===o.id&&(s=Object(h.a)(Object(h.a)(Object(h.a)({},o),o),{},{id:l.id,name:l.name,email:l.email,isAdmin:l.isAdmin,isConfirmed:l.isConfirmed}),r({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:"USER_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:o,name:u,email:E,isAdmin:L}))}},k&&n.a.createElement(B,{variant:"danger",duration:10},k),n.a.createElement(w.a.Group,{controlId:"name",className:"mb-2"},n.a.createElement(w.a.Label,null,"Name"),n.a.createElement(w.a.Control,{placeholder:"Enter Name",type:"text",value:u,onChange:function(e){return p(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"email",className:"my-2"},n.a.createElement(w.a.Label,null,"Email Address"),n.a.createElement(w.a.Control,{placeholder:"Enter Email Address",type:"email",value:E,onChange:function(e){return g(e.target.value)}})),n.a.createElement(w.a.Group,{controlId:"isAdmin",className:"my-2"},n.a.createElement(_.a,null,n.a.createElement(w.a.Check,{type:"checkbox",label:"Is Admin",style:{borderRight:"none"},checked:L,onChange:function(e){return I(e.target.checked)}}))),n.a.createElement(le.a,{type:"submit",variant:"dark",className:"my-1"},"Edit")))))},Ve=function(e){var t=e.history,r=e.match.params.pageNumber||1,o=Object(i.b)(),c=Object(i.c)((function(e){return e.productList})),l=c.loading,s=c.products,u=c.error,m=c.pages,d=c.page,f=Object(i.c)((function(e){return e.productDelete})),E=f.loading,h=f.success,g=f.error,b=Object(i.c)((function(e){return e.productCreate})),R=b.loading,w=b.success,_=b.error,j=b.product,L=Object(i.c)((function(e){return e.userLogin})).userInfo,I=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){L&&o(O("profile"))}),[L,o]),Object(a.useEffect)((function(){if(I&&L){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(S(e.email))}}),[I,o,L]),Object(a.useEffect)((function(){L.isAdmin||t.push("/login"),o({type:"PRODUCT_CREATE_RESET"}),w?t.push("/admin/product/".concat(j._id,"/edit")):o(H("",r,10))}),[o,t,L,h,w,j,r]);var x=function(e){window.confirm("Are you sure you wanna delete this product?")&&o(function(e){return function(){var t=Object(y.a)(q().mark((function t(r,a){var n,o,c,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DELETE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.delete("/api/products/".concat(e),c);case 6:i=t.sent,i.data&&r({type:"PRODUCT_DELETE_SUCCESS"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"PRODUCT_DELETE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{className:"align-items-center"},n.a.createElement(G.a,null,n.a.createElement("h1",null,"Products")),n.a.createElement(G.a,{style:{display:"flex",justifyContent:"flex-end"}},n.a.createElement(le.a,{className:"my-3",style:{padding:"0.5em 1em"},onClick:function(){o(function(){var e=Object(y.a)(q().mark((function e(t,r){var a,n,o,c,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUEST"}),a=r(),n=a.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.accessToken)}},e.next=6,v.a.post("/api/products/",{},o);case 6:c=e.sent,i=c.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())}},n.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),g&&n.a.createElement(B,{variant:"danger",duration:10},g),_&&n.a.createElement(B,{variant:"danger",duration:10},_),l||R||E?n.a.createElement(pe,null):u?n.a.createElement(B,{variant:"danger",duration:10},u):n.a.createElement(n.a.Fragment,null,n.a.createElement(Le.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"NAME"),n.a.createElement("th",null,"PRICE"),n.a.createElement("th",null,"CATEGORY"),n.a.createElement("th",null,"BRAND"),n.a.createElement("th",null,"ACTION"))),n.a.createElement("tbody",null,s&&s.map((function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.price&&e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),n.a.createElement("td",null,e.category),n.a.createElement("td",null,e.brand),n.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(p.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},n.a.createElement(le.a,{variant:"link",className:"btn-sm"},n.a.createElement("i",{className:"fas fa-edit"}))),n.a.createElement(le.a,{className:"btn-sm",onClick:function(){return x(e._id)},variant:"danger"},n.a.createElement("i",{style:{fontSize:"0.9em",padding:"0"},className:"fas fa-trash"}))))})))),n.a.createElement(P,{pages:m,page:d,isAdmin:!0})))};function Be(){Be=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new _(n||[]);return a(c,"_invoke",{value:S(e,r,i)}),c}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var m={};function p(){}function d(){}function f(){}var E={};l(E,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(j([])));y&&y!==t&&r.call(y,o)&&(E=y);var g=f.prototype=p.prototype=Object.create(E);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t((function(n,c){!function a(n,o,c,i){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return L()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=u(e,t,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(s(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var qe=function(e){var t=e.match,r=e.history,o=t.params.id,c=Object(a.useState)(""),s=Object(m.a)(c,2),u=s[0],p=s[1],d=Object(a.useState)(""),f=Object(m.a)(d,2),E=f[0],h=f[1],g=Object(a.useState)(""),b=Object(m.a)(g,2),R=b[0],_=b[1],j=Object(a.useState)(""),L=Object(m.a)(j,2),I=L[0],x=L[1],C=Object(a.useState)(""),T=Object(m.a)(C,2),N=T[0],k=T[1],U=Object(a.useState)(0),D=Object(m.a)(U,2),A=D[0],P=D[1],z=Object(a.useState)(0),M=Object(m.a)(z,2),Y=M[0],V=M[1],H=Object(a.useState)(!1),W=Object(m.a)(H,2),X=W[0],K=W[1],Z=Object(a.useState)(""),$=Object(m.a)(Z,2),ee=$[0],te=$[1],re=Object(i.b)(),ae=Object(i.c)((function(e){return e.productDetails})),ne=ae.loading,oe=ae.product,ce=ae.error,ie=Object(i.c)((function(e){return e.productUpdate})),ue=ie.loading,me=ie.success,de=ie.error,fe=Object(i.c)((function(e){return e.userLogin})).userInfo,Ee=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){fe&&re(O("profile"))}),[fe,re]),Object(a.useEffect)((function(){if(Ee&&fe){var e=JSON.parse(localStorage.getItem("userInfo"));e&&re(S(e.email))}}),[Ee,re,fe]),Object(a.useEffect)((function(){re(J(o))}),[]),Object(a.useEffect)((function(){me?(re({type:"PRODUCT_UPDATE_RESET"}),r.push("/admin/productlist")):oe&&oe._id===o?(p(oe.name),P(oe.price),k(oe.image),h(oe.brand),_(oe.category),x(oe.description),V(oe.countInStock)):re(J(o))}),[oe,re,o,r,me]);var he=Object(a.useRef)(null),ye=function(){var e=Object(y.a)(Be().mark((function e(t){var r,a,n,o,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("file",r),K(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post("/api/upload",a,n);case 8:o=e.sent,c=o.data,k(c.secure_url),K(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),te("Please choose a valid image"),K(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Link,{to:"/admin/productlist"},n.a.createElement(le.a,{variant:"outline-primary",className:"mt-3"},"Go Back")),n.a.createElement(we,{style:{marginTop:"-2em"}},n.a.createElement("h1",null,"Edit Product"),ue?n.a.createElement(pe,null):de?n.a.createElement(B,{variant:"danger",duration:10},de):n.a.createElement(n.a.Fragment,null,ne?n.a.createElement(pe,null):n.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),re(function(e){return function(){var t=Object(y.a)(q().mark((function t(r,a){var n,o,c,i,l;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_UPDATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.put("/api/products/".concat(e._id),e,c);case 6:i=t.sent,l=i.data,r({type:"PRODUCT_UPDATE_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"PRODUCT_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:o,name:u,brand:E,price:A,category:R,description:I,countInStock:Y,image:N}))}},ce&&n.a.createElement(B,{variant:"danger",duration:10},ce),n.a.createElement(w.a.Group,{controlId:"name"},n.a.createElement(se.a,{controlId:"nameinput",label:"Name",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter Name",type:"text",value:u,onChange:function(e){return p(e.target.value)}}))),n.a.createElement(w.a.Group,{controlId:"price"},n.a.createElement(se.a,{controlId:"priceinput",label:"Price",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter price",type:"number",value:A,min:"0",max:"1000",step:"0.1",onChange:function(e){return P(e.target.value)}}))),ee&&n.a.createElement(B,{variant:"danger",duration:10},ee),X?n.a.createElement("div",null,"Uploading..."):n.a.createElement(w.a.Group,{controlId:"image"},n.a.createElement(F.a,null,n.a.createElement(G.a,{md:9},n.a.createElement(se.a,{controlId:"imageinput",label:"Image URL",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter image URL",type:"text",value:N,onChange:function(e){return k(e.target.value)}}))),n.a.createElement(G.a,{md:3},n.a.createElement("input",{accept:"image/*",type:"file",id:"file",ref:he,onChange:ye,style:{display:"none"}}),n.a.createElement("div",{className:"profile-page-image",style:{alignSelf:"center"}},n.a.createElement(Q.a,{src:N,alt:u,title:"Click to input file",style:{width:"100%",border:"1px solid #ced4da",marginBottom:"1em",cursor:"pointer",borderRadius:"0.25rem"}}),n.a.createElement("div",{className:"image-overlay-product",onClick:function(){he.current.click()}},"Click to upload image"))))),n.a.createElement(w.a.Group,{controlId:"brand"},n.a.createElement(se.a,{controlId:"brandinput",label:"Brand",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter brand",type:"text",value:E,onChange:function(e){return h(e.target.value)}}))),n.a.createElement(w.a.Group,{controlId:"category"},n.a.createElement(se.a,{controlId:"categoryinput",label:"Category",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter category",type:"text",value:R,onChange:function(e){return _(e.target.value)}}))),n.a.createElement(w.a.Group,{controlId:"description"},n.a.createElement(se.a,{controlId:"descinput",label:"Description",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter description URL",type:"text",value:I,onChange:function(e){return x(e.target.value)}}))),n.a.createElement(w.a.Group,{controlId:"countInStock"},n.a.createElement(se.a,{controlId:"countinstockinput",label:"CountInStock",className:"mb-3"},n.a.createElement(w.a.Control,{placeholder:"Enter Count In Stock",type:"number",min:"0",max:"1000",value:Y,onChange:function(e){return V(e.target.value)}}))),n.a.createElement("div",{className:"d-flex"},n.a.createElement(le.a,{type:"submit",className:"my-1 ms-auto"},"Update Product"))))))},He=function(e){var t=e.history,r=e.match.params.pageNumber||1,o=Object(i.b)(),c=Object(i.c)((function(e){return e.orderListAll})),l=c.loading,s=c.orders,u=c.error,d=c.page,f=c.pages,E=c.total,h=Object(i.c)((function(e){return e.userLogin})).userInfo,g=Object(i.c)((function(e){return e.userDetails})).error;Object(a.useEffect)((function(){if(g&&h){var e=JSON.parse(localStorage.getItem("userInfo"));e&&o(S(e.email))}}),[g,o,h]),Object(a.useEffect)((function(){h&&h.isAdmin?o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(y.a)(de().mark((function t(r,a){var n,o,c,i,l;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_ALL_LIST_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.accessToken)}},t.next=6,v.a.get("/api/orders?pageNumber=".concat(e),c);case 6:i=t.sent,l=i.data,r({type:"ORDER_ALL_LIST_SUCCESS",payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_ALL_LIST_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r)):t.push("/login")}),[o,t,h,r]);var b=Object(a.useState)(null),O=Object(m.a)(b,2),R=(O[0],O[1],function(e){fetch(e).then((function(e){return e.blob()})).then((function(t){var r=document.createElement("a");r.href=URL.createObjectURL(t);var a=e.split(".").pop();r.download="payment-verification.".concat(a),document.body.appendChild(r),r.click()}))});return n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{className:"align-items-center"},n.a.createElement(G.a,null,n.a.createElement("h1",null,"All Orders (","".concat(E||0),")"))),l?n.a.createElement(pe,null):u?n.a.createElement(B,{variant:"danger",duration:10},u):n.a.createElement(Le.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"USER"),n.a.createElement("th",null,"TOTAL"),n.a.createElement("th",null,"DATE"),n.a.createElement("th",null,"PAID"),n.a.createElement("th",null,"Payment Verification"),n.a.createElement("th",null,"SHIPPED"),n.a.createElement("th",null,"DELIVERED"),n.a.createElement("th",null,"Return Requested"),n.a.createElement("th",null,"Return Verification"),n.a.createElement("th",null,"Return Confirmed"),n.a.createElement("th",null,"ACTION"))),n.a.createElement("tbody",null,s&&s.map((function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.user&&e.user.name),n.a.createElement("td",null,e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})),n.a.createElement("td",null,ye(e.createdAt)),n.a.createElement("td",null,e.isPaid?ye(e.paidAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.paymentResult&&n.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyItems:"center",gap:"10px",cursor:"pointer"}},n.a.createElement("img",{src:e.paymentResult.imageUrl,alt:"payment-verified",style:{width:"50px"}}),n.a.createElement("i",{className:"fa fa-download",onClick:function(){return R(e.paymentResult.imageUrl)}}))),n.a.createElement("td",null,e.isShipped?ye(e.shippedAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?ye(e.deliveredAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isReturedRequested?"Yes":"No"),n.a.createElement("td",null,e.returnResult&&n.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyItems:"center",gap:"10px",cursor:"pointer"}},n.a.createElement("img",{src:e.returnResult.videoUrl,alt:"payment-verified",style:{width:"50px"}}),n.a.createElement("i",{className:"fa fa-download",onClick:function(){return R(e.returnResult.videoUrl)}}))),n.a.createElement("td",null,e.isreturnConfirmed?"Yes":"No"),n.a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(p.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(le.a,{variant:"link",className:"btn-sm"},"View Details"))))})))),n.a.createElement(P,{pages:f,page:d,isAdmin:!0,forOrders:!0}))},Je=r(105),We=r.n(Je),Xe=(r(175),function(){return n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"error-img",alt:"error",src:We.a}),n.a.createElement("p",{className:"mb-0 mt-3 text-error"},n.a.createElement("i",{className:"far fa-frown"})," Looks like this page does not exist."),n.a.createElement("p",{className:"mt-0 text-error"},"Go Back to the ",n.a.createElement(l.Link,{to:"/"},"Home Page")))}),Ke=function(){return n.a.createElement(l.BrowserRouter,null,n.a.createElement(x,null),n.a.createElement("main",{className:"py-2"},n.a.createElement(u.a,null,n.a.createElement(s.g,null,n.a.createElement(s.d,{path:"/",component:oe,exact:!0}),n.a.createElement(s.d,{path:"/search/:keyword",component:oe,exact:!0}),n.a.createElement(s.d,{path:"/page/:pageNumber",component:oe,exact:!0}),n.a.createElement(s.d,{path:"/search/:keyword/page/:pageNumber",exact:!0,component:oe}),n.a.createElement(s.d,{path:"/login",component:_e}),n.a.createElement(s.d,{path:"/register",component:je}),n.a.createElement(s.d,{path:"/user/password/reset/:token",component:Me}),n.a.createElement(s.d,{path:"/profile",component:xe}),n.a.createElement(s.d,{path:"/product/:id",component:ge}),n.a.createElement(s.d,{path:"/cart/:id?",component:Re}),n.a.createElement(s.d,{path:"/user/confirm/:token",component:Ce,exact:!0}),n.a.createElement(s.d,{path:"/shipping",component:Ne}),n.a.createElement(s.d,{path:"/payment",component:ke}),n.a.createElement(s.d,{path:"/placeorder",component:Ue}),n.a.createElement(s.d,{path:"/order/:id",component:ze}),n.a.createElement(s.d,{path:"/admin/userlist",component:Qe,exact:!0}),n.a.createElement(s.d,{path:"/admin/userlist/:pageNumber",component:Qe,exact:!0}),n.a.createElement(s.d,{path:"/admin/user/:id/edit",component:Ye}),n.a.createElement(s.d,{path:"/admin/productlist",exact:!0,component:Ve}),n.a.createElement(s.d,{path:"/admin/productlist/:pageNumber",component:Ve,exact:!0}),n.a.createElement(s.d,{path:"/admin/product/:id/edit",component:qe}),n.a.createElement(s.d,{path:"/admin/orderlist",component:He,exact:!0}),n.a.createElement(s.d,{path:"/admin/orderlist/:pageNumber",component:He,exact:!0}),n.a.createElement(s.d,{component:Xe})))),n.a.createElement(C,null))},Ze=r(65),$e=r(107),et=r(106),tt=Object(Ze.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case"PRODUCT_LIST_FAILURE":return{loading:!1,error:t.payload};default:return{state:e}}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(h.a)({loading:!0},e);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return Object(h.a)({},e)}},productCreateReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return Object(h.a)({},e)}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return Object(h.a)({},e)}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_RATED_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_RATED_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_TOP_RATED_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var r=t.payload,a=e.cartItems.find((function(e){return e.product===r.product}));return a?Object(h.a)(Object(h.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?r:e}))}):Object(h.a)(Object(h.a)({},e),{},{cartItems:[].concat(Object(T.a)(e.cartItems),[r])});case"CART_REMOVE_ITEM":return Object(h.a)(Object(h.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(h.a)(Object(h.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(h.a)(Object(h.a)({},e),{},{paymentMethod:t.payload});case"CART_RESET":return{cartItems:[],shippingAddress:t.payload};default:return Object(h.a)({},e)}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAILURE":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return Object(h.a)({},e)}},userLoginRefresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REFRESH_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_LOGIN_REFRESH_SUCCESS":return{loading:!1,tokenInfo:t.payload};case"USER_LOGIN_REFRESH_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},userSendEmailVerfication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EMAIL_VERIFICATION_REQUEST":return{isLoading:!0};case"USER_EMAIL_VERIFICATION_SUCCESS":return{isLoading:!0,emailSent:t.payload};case"USER_EMAIL_VERIFICATION_FAILURE":return{isLoading:!0,hasError:t.payload};default:return Object(h.a)({},e)}},userConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isConfirmed:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CONFIRM_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_CONFIRM_SUCCESS":return{loading:!1,isConfirmed:t.payload};case"USER_CONFIRM_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},userResetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_RESET_PASSWORD_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_RESET_PASSWORD_SUCCESS":return{loading:!1,resetPassword:t.payload};case"USER_RESET_PASSWORD_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAILURE":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:{}};default:return Object(h.a)({},e)}},userProfileUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILE_UPDATE_REQUEST":return{loading:!0};case"USER_PROFILE_UPDATE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_PROFILE_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"USER_PROFILE_UPDATE_RESET":return{};default:return Object(h.a)({},e)}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload.users,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case"USER_LIST_FAILURE":return{loading:!1,error:t.payload};case"USER_LIST_RESET":return{users:[]};default:return Object(h.a)({},e)}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"USER_UPDATE_RESET":return{user:{}};default:return Object(h.a)({},e)}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_CREATE_FAILURE":return{loading:!1,error:t.payload};case"ORDER_CREATE_RESET":return{};default:return Object(h.a)({},e)}},orderUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_UPDATE_REQUEST":return{loading:!0};case"ORDER_UPDATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"ORDER_UPDATE_RESET":return{order:{}};default:return Object(h.a)({},e)}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAILURE":return{loading:!1,error:t.payload};case"ORDER_PAY_RESET":return{};default:return Object(h.a)({},e)}},orderShipped:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_SHIPPED_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_SHIPPED_SUCCESS":return{loading:!1,success:!0};case"ORDER_SHIPPED_FAILURE":return{loading:!1,error:t.payload};case"ORDER_SHIPPED_RESET":return{};default:return Object(h.a)({},e)}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAILURE":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return Object(h.a)({},e)}},orderReturn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_RETURN_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_RETURN_SUCCESS":return{loading:!1,success:!0};case"ORDER_RETURN_FAILURE":return{loading:!1,error:t.payload};case"ORDER_RETURN_RESET":return{};default:return Object(h.a)({},e)}},orderListUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_USER_LIST_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_USER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_USER_LIST_FAILURE":return{loading:!1,error:t.payload};case"ORDER_USER_LIST_RESET":return{orders:[]};default:return Object(h.a)({},e)}},orderListAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_ALL_LIST_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"ORDER_ALL_LIST_SUCCESS":return{loading:!1,orders:t.payload.orders,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case"ORDER_ALL_LIST_FAILURE":return{loading:!1,error:t.payload};default:return Object(h.a)({},e)}}}),rt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],at=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,nt=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},ot=localStorage.getItem("refreshToken")?localStorage.getItem("refreshToken"):null,ct={cart:{cartItems:Object(T.a)(rt),shippingAddress:nt},userLogin:{userInfo:at},userLoginRefresh:{tokenInfo:ot}},it=[$e.a],lt=Object(Ze.createStore)(tt,ct,Object(et.composeWithDevTools)(Ze.applyMiddleware.apply(void 0,it)));r(176),r(177);c.a.render(n.a.createElement(i.a,{store:lt},n.a.createElement($.b,null,n.a.createElement(Ke,null))),document.getElementById("root"))},99:function(e,t,r){e.exports=r.p+"static/media/logo.b7d7682a.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.fed170a9.chunk.js.map